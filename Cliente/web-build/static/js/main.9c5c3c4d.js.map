{"version":3,"file":"static/js/main.9c5c3c4d.js","mappings":"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","sources":["lib/supabase.ts","screens/InventarioContext.tsx","screens/ProfileScreen.tsx","screens/UserManagementScreen.tsx","screens/PanelCandidatoScreen.tsx","screens/PanelVotanteScreen.tsx","screens/PanelAdministrativoScreen.tsx","screens/PanelAdminScreen.tsx","screens/CrearEleccionScreen.tsx","screens/EditarEleccionScreen.tsx","screens/AgregarCandidatoScreen.tsx","screens/AgregarVotacionScreen.tsx","screens/ResultadosVotacionesScreen.tsx","screens/ListaCandidaturasScreen.tsx","app/navigation.tsx","screens/LoginScreen.tsx","App.tsx","index.ts","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/ensure chunk","webpack/runtime/get javascript chunk filename","webpack/runtime/get mini-css chunk filename","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/load script","webpack/runtime/make namespace object","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = 'https://ytnltiztodeesagxdadu.supabase.co';\r\nconst supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl0bmx0aXp0b2RlZXNhZ3hkYWR1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc0OTQxOTcsImV4cCI6MjA2MzA3MDE5N30.px8gnjRpc8F1L-TQ_rK4FLo0ssWoczedxq3zNssCgmc';\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n","import React, { createContext, useState, useEffect, ReactNode } from 'react';\r\nimport { supabase } from '../lib/supabase';\r\nimport { RealtimeSubscription } from '@supabase/supabase-js';\r\n\r\nexport type Producto = {\r\n  id: string;\r\n  nombre: string;\r\n  precio: number;\r\n  condicion: 'nuevo' | 'usado';\r\n};\r\n\r\ntype InventarioContextType = {\r\n  productos: Producto[];\r\n  agregarProducto: (producto: Omit<Producto, 'id'>) => Promise<void>;\r\n  editarProducto: (producto: Producto) => Promise<void>;\r\n  cargarProductos: () => void;\r\n  eliminarProducto: (id: string) => Promise<void>;\r\n};\r\n\r\nexport const InventarioContext = createContext<InventarioContextType>({\r\n  productos: [],\r\n  agregarProducto: async () => {},\r\n  editarProducto: async () => {},\r\n  cargarProductos: () => {},\r\n  eliminarProducto: async () => {},\r\n});\r\n\r\nexport const InventarioProvider = ({ children }: { children: ReactNode }) => {\r\n  const [productos, setProductos] = useState<Producto[]>([]);\r\n\r\n  const cargarProductos = async () => {\r\n    const { data, error } = await supabase\r\n      .from('productos')\r\n      .select('*')\r\n      .order('created_at', { ascending: false });\r\n    if (error) console.error(error);\r\n    if (data) setProductos(data);\r\n  };\r\n\r\n  const agregarProducto = async (producto: Omit<Producto, 'id'>) => {\r\n    const { error } = await supabase.from('productos').insert([producto]);\r\n    if (error) console.error(error);\r\n    await cargarProductos();\r\n  };\r\n\r\n  const editarProducto = async (producto: Producto) => {\r\n    const { error } = await supabase\r\n      .from('productos')\r\n      .update({\r\n        nombre: producto.nombre,\r\n        precio: producto.precio,\r\n        condicion: producto.condicion,\r\n      })\r\n      .eq('id', producto.id);\r\n    if (error) console.error(error);\r\n    await cargarProductos();\r\n  };\r\n\r\n  const eliminarProducto = async (id: string) => {\r\n    const { error } = await supabase.from('productos').delete().eq('id', id);\r\n    if (error) console.error(error);\r\n    await cargarProductos();\r\n  };\r\n\r\n  useEffect(() => {\r\n    cargarProductos();\r\n\r\n    const subscription: RealtimeSubscription = supabase\r\n      .from('productos')\r\n      .on('*', (payload) => {\r\n        console.log('🔄 Cambio detectado:', payload);\r\n        cargarProductos();\r\n      })\r\n      .subscribe();\r\n\r\n    return () => {\r\n      supabase.removeSubscription(subscription);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <InventarioContext.Provider\r\n      value={{ productos, agregarProducto, editarProducto, cargarProductos, eliminarProducto }}\r\n    >\r\n      {children}\r\n    </InventarioContext.Provider>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  TextInput,\r\n  Alert,\r\n  TouchableOpacity,\r\n  ScrollView,\r\n  ImageBackground,\r\n} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Picker } from '@react-native-picker/picker';\r\nimport { supabase } from '../lib/supabase';\r\n\r\nexport default function ProfileScreen() {\r\n  const [nombres, setNombres] = useState('');\r\n  const [apellidos, setApellidos] = useState('');\r\n  const [edad, setEdad] = useState('');\r\n  const [genero, setGenero] = useState('');\r\n  const [mensajeExito, setMensajeExito] = useState('');\r\n  const [userId, setUserId] = useState<number | null>(null);\r\n\r\n  useEffect(() => {\r\n    AsyncStorage.getItem('usuario').then(json => {\r\n      if (json) {\r\n        const usuario = JSON.parse(json);\r\n        setUserId(usuario.id);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const guardarPerfilEnBD = async () => {\r\n    if (!userId || !nombres || !apellidos || !edad || !genero) {\r\n      Alert.alert('Campos incompletos', 'Por favor completa todos los campos.');\r\n      return;\r\n    }\r\n    try {\r\n      const { data: existentes, error: errorSelect } = await supabase\r\n        .from('userprofiles')\r\n        .select('id')\r\n        .eq('user_id', userId);\r\n\r\n      if (errorSelect) {\r\n        console.error('Error buscando perfil:', errorSelect);\r\n        throw errorSelect;\r\n      }\r\n\r\n      let error;\r\n      if (existentes && existentes.length > 0) {\r\n        const idPerfil = existentes[0].id;\r\n        ({ error } = await supabase\r\n          .from('userprofiles')\r\n          .update({\r\n            nombres,\r\n            apellidos,\r\n            edad: parseInt(edad, 10),\r\n            genero,\r\n          })\r\n          .eq('id', idPerfil));\r\n      } else {\r\n        ({ error } = await supabase\r\n          .from('userprofiles')\r\n          .insert([{\r\n            user_id: userId,\r\n            nombres,\r\n            apellidos,\r\n            edad: parseInt(edad, 10),\r\n            genero,\r\n          }]));\r\n      }\r\n\r\n      if (error) {\r\n        console.error('Error de Supabase:', error);\r\n        throw error;\r\n      }\r\n      setMensajeExito('✅ Perfil guardado correctamente.');\r\n      setNombres('');\r\n      setApellidos('');\r\n      setEdad('');\r\n      setGenero('');\r\n      setTimeout(() => setMensajeExito(''), 3000);\r\n    } catch (error) {\r\n      Alert.alert('Error', 'No se pudo guardar el perfil en la base de datos.');\r\n    }\r\n  };\r\n\r\n  const eliminarPerfilEnBD = async () => {\r\n    if (!userId) {\r\n      Alert.alert('Error', 'No se encontró el usuario.');\r\n      return;\r\n    }\r\n    try {\r\n      const { error } = await supabase\r\n        .from('userprofiles')\r\n        .delete()\r\n        .eq('user_id', userId);\r\n      if (error) {\r\n        console.error('Error al eliminar perfil:', error);\r\n        throw error;\r\n      }\r\n      setMensajeExito('🗑️ Perfil eliminado correctamente.');\r\n      setNombres('');\r\n      setApellidos('');\r\n      setEdad('');\r\n      setGenero('');\r\n      setTimeout(() => setMensajeExito(''), 3000);\r\n    } catch (error) {\r\n      Alert.alert('Error', 'No se pudo eliminar el perfil en la base de datos.');\r\n    }\r\n  };\r\n\r\n  const cargarPerfilEnBD = async () => {\r\n    if (!userId) {\r\n      Alert.alert('Error', 'No se encontró el usuario.');\r\n      return;\r\n    }\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('userprofiles')\r\n        .select('nombres, apellidos, edad, genero, user_id')\r\n        .eq('user_id', userId);\r\n\r\n      if (error) {\r\n        console.error('Error al cargar perfil:', error);\r\n        Alert.alert('Error', 'No se pudo cargar el perfil.');\r\n        return;\r\n      }\r\n\r\n      const perfil = data && data.length > 0\r\n        ? data.find((p) => p.user_id === userId)\r\n        : null;\r\n\r\n      if (!perfil) {\r\n        setMensajeExito('ℹ️ No hay perfil para este usuario. Puedes crearlo.');\r\n        setNombres('');\r\n        setApellidos('');\r\n        setEdad('');\r\n        setGenero('');\r\n        setTimeout(() => setMensajeExito(''), 3000);\r\n        return;\r\n      }\r\n\r\n      setNombres(perfil.nombres || '');\r\n      setApellidos(perfil.apellidos || '');\r\n      setEdad(perfil.edad ? perfil.edad.toString() : '');\r\n      setGenero(perfil.genero || '');\r\n      setMensajeExito('✏️ Perfil cargado para edición.');\r\n      setTimeout(() => setMensajeExito(''), 3000);\r\n    } catch (error) {\r\n      Alert.alert('Error', 'No se pudo cargar el perfil.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ImageBackground\r\n      source={require('../assets/fondo.png')}\r\n      style={styles.bg}\r\n      resizeMode=\"cover\"\r\n    >\r\n      <ScrollView contentContainerStyle={{ flexGrow: 1 }}>\r\n        <View style={styles.profileCard}>\r\n          <View style={styles.profileHeader}>\r\n            <Text style={styles.headerIcon}>🧑‍💼</Text>\r\n            <Text style={styles.headerTitle}>Perfil del Usuario</Text>\r\n          </View>\r\n          <View style={styles.cardBody}>\r\n            {mensajeExito !== '' && (\r\n              <View style={styles.flash}>\r\n                <Text style={styles.flashText}>{mensajeExito}</Text>\r\n              </View>\r\n            )}\r\n            <Text style={styles.formLabel}>Nombres</Text>\r\n            <TextInput\r\n              placeholder=\"Nombres\"\r\n              style={styles.input}\r\n              value={nombres}\r\n              onChangeText={setNombres}\r\n            />\r\n            <Text style={styles.formLabel}>Apellidos</Text>\r\n            <TextInput\r\n              placeholder=\"Apellidos\"\r\n              style={styles.input}\r\n              value={apellidos}\r\n              onChangeText={setApellidos}\r\n            />\r\n            <Text style={styles.formLabel}>Edad</Text>\r\n            <TextInput\r\n              placeholder=\"Edad\"\r\n              style={styles.input}\r\n              value={edad}\r\n              onChangeText={setEdad}\r\n              keyboardType=\"numeric\"\r\n            />\r\n            <Text style={styles.formLabel}>Género</Text>\r\n            <View style={styles.pickerContainer}>\r\n              <Picker\r\n                selectedValue={genero}\r\n                onValueChange={setGenero}\r\n                style={styles.picker}\r\n              >\r\n                <Picker.Item label=\"Selecciona género...\" value=\"\" />\r\n                <Picker.Item label=\"Masculino\" value=\"masculino\" />\r\n                <Picker.Item label=\"Femenino\" value=\"femenino\" />\r\n                <Picker.Item label=\"Otro\" value=\"otro\" />\r\n              </Picker>\r\n            </View>\r\n            <View style={styles.buttonRow}>\r\n              <TouchableOpacity style={styles.btnPrimary} onPress={guardarPerfilEnBD}>\r\n                <Text style={styles.btnText}>Guardar perfil</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.btnSecondary} onPress={eliminarPerfilEnBD}>\r\n                <Text style={styles.btnText}>Eliminar perfil</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.btnEdit} onPress={cargarPerfilEnBD}>\r\n                <Text style={styles.btnText}>Editar perfil</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </ScrollView>\r\n    </ImageBackground>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  bg: {\r\n    flex: 1,\r\n    width: '100%',\r\n    height: '100%',\r\n    position: 'absolute',\r\n  },\r\n  profileCard: {\r\n    maxWidth: 500,\r\n    width: '96%',\r\n    alignSelf: 'center',\r\n    marginTop: 38,\r\n    backgroundColor: '#fff',\r\n    borderRadius: 22,\r\n    shadowColor: '#3a0ca3',\r\n    shadowOffset: { width: 0, height: 8 },\r\n    shadowOpacity: 0.16,\r\n    shadowRadius: 24,\r\n    elevation: 10,\r\n    borderWidth: 1,\r\n    borderColor: '#e3e7ef',\r\n    overflow: 'hidden',\r\n  },\r\n  profileHeader: {\r\n    backgroundColor: '#4361ee',\r\n    paddingVertical: 32,\r\n    paddingHorizontal: 28,\r\n    borderTopLeftRadius: 22,\r\n    borderTopRightRadius: 22,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 14,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#e3e7ef',\r\n  },\r\n  headerTitle: {\r\n    color: '#fff',\r\n    fontWeight: '900',\r\n    fontSize: 28,\r\n    letterSpacing: 0.8,\r\n    textShadowColor: 'rgba(0,0,0,0.10)',\r\n    textShadowOffset: { width: 0, height: 1 },\r\n    textShadowRadius: 3,\r\n  },\r\n  headerIcon: {\r\n    fontSize: 40,\r\n    marginRight: 14,\r\n    textShadowColor: 'rgba(0,0,0,0.10)',\r\n    textShadowOffset: { width: 0, height: 0 },\r\n    textShadowRadius: 2,\r\n  },\r\n  cardBody: {\r\n    paddingVertical: 38,\r\n    paddingHorizontal: 30,\r\n    backgroundColor: '#f7f9fd',\r\n  },\r\n  formLabel: {\r\n    fontWeight: '700',\r\n    fontSize: 16,\r\n    color: '#3a0ca3',\r\n    marginBottom: 7,\r\n    marginTop: 14,\r\n    letterSpacing: 0.3,\r\n  },\r\n  input: {\r\n    backgroundColor: '#f1f3fa',\r\n    padding: 14,\r\n    borderRadius: 10,\r\n    marginBottom: 12,\r\n    borderWidth: 1.3,\r\n    borderColor: '#bfc7d1',\r\n    fontSize: 16,\r\n    color: '#263159',\r\n    shadowColor: '#4361ee',\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowOpacity: 0.08,\r\n    shadowRadius: 2,\r\n    elevation: 1,\r\n  },\r\n  pickerContainer: {\r\n    backgroundColor: '#f1f3fa',\r\n    borderRadius: 10,\r\n    borderWidth: 1.3,\r\n    borderColor: '#bfc7d1',\r\n    marginBottom: 20,\r\n    overflow: 'hidden',\r\n  },\r\n  picker: {\r\n    width: '100%',\r\n    height: 48,\r\n    color: '#263159',\r\n  },\r\n  flash: {\r\n    backgroundColor: '#e3f0ff',\r\n    padding: 14,\r\n    borderRadius: 16,\r\n    marginBottom: 20,\r\n    borderColor: '#b3d1fa',\r\n    borderWidth: 1,\r\n    shadowColor: '#4361ee',\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowOpacity: 0.10,\r\n    shadowRadius: 2,\r\n    elevation: 1,\r\n  },\r\n  flashText: {\r\n    color: '#4361ee',\r\n    textAlign: 'center',\r\n    fontWeight: '700',\r\n    fontSize: 16,\r\n    letterSpacing: 0.2,\r\n  },\r\n  buttonRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    marginTop: 24,\r\n    gap: 10,\r\n  },\r\n  btnPrimary: {\r\n    backgroundColor: '#198754',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 18,\r\n    borderRadius: 13,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginRight: 6,\r\n    shadowColor: '#198754',\r\n    shadowOffset: { width: 0, height: 3 },\r\n    shadowOpacity: 0.13,\r\n    shadowRadius: 8,\r\n    elevation: 2,\r\n  },\r\n  btnSecondary: {\r\n    backgroundColor: '#e63946',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 18,\r\n    borderRadius: 13,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginRight: 6,\r\n    shadowColor: '#e63946',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.10,\r\n    shadowRadius: 6,\r\n    elevation: 1,\r\n  },\r\n  btnEdit: {\r\n    backgroundColor: '#3a0ca3',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 18,\r\n    borderRadius: 13,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    shadowColor: '#3a0ca3',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.10,\r\n    shadowRadius: 6,\r\n    elevation: 1,\r\n  },\r\n  btnText: {\r\n    color: '#fff',\r\n    fontWeight: '700',\r\n    fontSize: 16,\r\n    letterSpacing: 0.2,\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  TextInput,\r\n  StyleSheet,\r\n  Alert,\r\n  Platform,\r\n  TouchableOpacity,\r\n  ScrollView,\r\n  ImageBackground,\r\n  KeyboardAvoidingView,\r\n} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport bcrypt from 'bcryptjs';\r\nimport { supabase } from '../lib/supabase';\r\nimport { Picker } from '@react-native-picker/picker';\r\n\r\n// Tipado de usuario\r\ntype Usuario = {\r\n  id: number;\r\n  identificacion: string;\r\n  username: string;\r\n  role: 'ADMIN' | 'ADMINISTRATIVO' | 'CANDIDATO' | 'VOTANTE';\r\n};\r\n\r\nexport default function UserManagementScreen() {\r\n  const [identificacion, setIdentificacion] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [role, setRole] = useState<Usuario['role']>('ADMINISTRATIVO');\r\n  const [adminValid, setAdminValid] = useState(false);\r\n  const [usuarios, setUsuarios] = useState<Usuario[]>([]);\r\n  const [editId, setEditId] = useState<number | null>(null);\r\n\r\n  useEffect(() => {\r\n    const verificarRol = async () => {\r\n      const usuario = await AsyncStorage.getItem('usuario');\r\n      if (usuario) {\r\n        const parsed = JSON.parse(usuario);\r\n        setAdminValid(parsed.role === 'ADMIN');\r\n      }\r\n    };\r\n    verificarRol();\r\n  }, []);\r\n\r\n  const cargarUsuarios = async () => {\r\n    const { data, error } = await supabase.from('users').select('id, identificacion, username, role');\r\n    if (!error && data) {\r\n      setUsuarios(data as Usuario[]);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (adminValid) {\r\n      cargarUsuarios();\r\n    }\r\n  }, [adminValid]);\r\n\r\n  const limpiarFormulario = () => {\r\n    setEditId(null);\r\n    setIdentificacion('');\r\n    setUsername('');\r\n    setPassword('');\r\n    setRole('ADMINISTRATIVO');\r\n  };\r\n\r\n  const handleCreateUser = async () => {\r\n    if (!identificacion || !username || !password || !role) {\r\n      Alert.alert('⚠️ Todos los campos son obligatorios');\r\n      return;\r\n    }\r\n    try {\r\n      const hashed = await bcrypt.hash(password, 10);\r\n      const { error } = await supabase.from('users').insert([{\r\n        identificacion,\r\n        username,\r\n        password_hash: hashed,\r\n        role,\r\n      }]);\r\n      if (error) {\r\n        Alert.alert('❌ Error creando usuario', error.message);\r\n      } else {\r\n        Alert.alert('✅ Usuario creado exitosamente');\r\n        limpiarFormulario();\r\n        cargarUsuarios();\r\n      }\r\n    } catch (e) {\r\n      Alert.alert('❌ Error general', 'No se pudo crear el usuario');\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  const handleEditUser = (usuario: Usuario) => {\r\n    setEditId(usuario.id);\r\n    setIdentificacion(usuario.identificacion);\r\n    setUsername(usuario.username);\r\n    setRole(usuario.role);\r\n    setPassword('');\r\n  };\r\n\r\n  const handleUpdateUser = async () => {\r\n    if (!editId || !identificacion || !username || !role) {\r\n      Alert.alert('⚠️ Todos los campos son obligatorios');\r\n      return;\r\n    }\r\n    try {\r\n      let updateObj: any = {\r\n        identificacion,\r\n        username,\r\n        role,\r\n      };\r\n      if (password) {\r\n        updateObj.password_hash = await bcrypt.hash(password, 10);\r\n      }\r\n      const { error } = await supabase\r\n        .from('users')\r\n        .update(updateObj)\r\n        .eq('id', editId);\r\n\r\n      if (error) {\r\n        Alert.alert('❌ Error actualizando usuario', error.message);\r\n      } else {\r\n        Alert.alert('✅ Usuario actualizado');\r\n        limpiarFormulario();\r\n        cargarUsuarios();\r\n      }\r\n    } catch (e) {\r\n      Alert.alert('❌ Error general', 'No se pudo actualizar el usuario');\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  const handleDeleteUser = async (id: number) => {\r\n    if (Platform.OS === 'web') {\r\n      if (window.confirm('¿Estás seguro de que deseas eliminar este usuario?')) {\r\n        await supabase.from('userprofiles').delete().eq('user_id', id);\r\n        const { error } = await supabase.from('users').delete().eq('id', id);\r\n        if (error) {\r\n          Alert.alert('❌ Error eliminando usuario', error.message);\r\n        } else {\r\n          if (editId === id) limpiarFormulario();\r\n          cargarUsuarios();\r\n        }\r\n      }\r\n    } else {\r\n      Alert.alert(\r\n        'Eliminar usuario',\r\n        '¿Estás seguro de que deseas eliminar este usuario?',\r\n        [\r\n          { text: 'Cancelar', style: 'cancel' },\r\n          {\r\n            text: 'Eliminar',\r\n            style: 'destructive',\r\n            onPress: async () => {\r\n              try {\r\n                await supabase.from('userprofiles').delete().eq('user_id', id);\r\n                const { error } = await supabase.from('users').delete().eq('id', id);\r\n                if (error) {\r\n                  Alert.alert('❌ Error eliminando usuario', error.message);\r\n                } else {\r\n                  if (editId === id) limpiarFormulario();\r\n                  cargarUsuarios();\r\n                }\r\n              } catch (e: any) {\r\n                Alert.alert('❌ Error eliminando usuario', e.message || 'Error desconocido');\r\n              }\r\n            },\r\n          },\r\n        ]\r\n      );\r\n    }\r\n  };\r\n\r\n  if (!adminValid) return <Text style={styles.block}>⛔ Acceso denegado</Text>;\r\n\r\n  return (\r\n    <ImageBackground\r\n      source={require('../assets/fondo.png')}\r\n      style={styles.bg}\r\n      resizeMode=\"cover\"\r\n    >\r\n      <KeyboardAvoidingView\r\n        style={{ flex: 1 }}\r\n        behavior={Platform.OS === 'ios' ? 'padding' : undefined}\r\n      >\r\n        <ScrollView contentContainerStyle={styles.scrollContainer}>\r\n          <View style={styles.profileCard}>\r\n            <View style={styles.profileHeader}>\r\n              <Text style={styles.headerIcon}>🧑‍💼</Text>\r\n              <Text style={styles.headerTitle}>Gestión de Usuarios</Text>\r\n            </View>\r\n            <View style={styles.cardBody}>\r\n              {/* Formulario */}\r\n              <Text style={styles.formLabel}>Identificación</Text>\r\n              <TextInput\r\n                placeholder=\"Identificación\"\r\n                style={styles.input}\r\n                value={identificacion}\r\n                onChangeText={setIdentificacion}\r\n                placeholderTextColor=\"#b0b6c1\"\r\n              />\r\n              <Text style={styles.formLabel}>Nombre de usuario</Text>\r\n              <TextInput\r\n                placeholder=\"Nombre de usuario\"\r\n                style={styles.input}\r\n                value={username}\r\n                onChangeText={setUsername}\r\n                placeholderTextColor=\"#b0b6c1\"\r\n              />\r\n              <Text style={styles.formLabel}>\r\n                Contraseña {editId ? '(dejar vacío para no cambiar)' : ''}\r\n              </Text>\r\n              <TextInput\r\n                placeholder=\"Contraseña\"\r\n                style={styles.input}\r\n                value={password}\r\n                onChangeText={setPassword}\r\n                secureTextEntry\r\n                placeholderTextColor=\"#b0b6c1\"\r\n              />\r\n              <Text style={styles.formLabel}>Rol del usuario:</Text>\r\n              <View style={styles.pickerWrapper}>\r\n                <Picker\r\n                  selectedValue={role}\r\n                  onValueChange={(itemValue) => setRole(itemValue as Usuario['role'])}\r\n                  style={styles.picker}\r\n                  dropdownIconColor=\"#4361ee\"\r\n                >\r\n                  <Picker.Item label=\"ADMINISTRATIVO\" value=\"ADMINISTRATIVO\" />\r\n                  <Picker.Item label=\"CANDIDATO\" value=\"CANDIDATO\" />\r\n                  <Picker.Item label=\"VOTANTE\" value=\"VOTANTE\" />\r\n                </Picker>\r\n              </View>\r\n              {editId ? (\r\n                <View style={styles.btnRow}>\r\n                  <TouchableOpacity style={styles.btnPrimary} onPress={handleUpdateUser}>\r\n                    <Text style={styles.btnText}>Actualizar usuario</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={styles.btnSecondary} onPress={limpiarFormulario}>\r\n                    <Text style={styles.btnText}>Cancelar</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              ) : (\r\n                <TouchableOpacity style={styles.btnPrimary} onPress={handleCreateUser}>\r\n                  <Text style={styles.btnText}>Crear usuario</Text>\r\n                </TouchableOpacity>\r\n              )}\r\n\r\n              <Text style={styles.sectionTitle}>📋 Usuarios registrados:</Text>\r\n\r\n              {/* Lista de usuarios */}\r\n              {usuarios.length === 0 ? (\r\n                <Text style={styles.noUsersText}>\r\n                  No hay usuarios registrados.\r\n                </Text>\r\n              ) : (\r\n                usuarios.map((item) => (\r\n                  <View key={item.id} style={styles.userRow}>\r\n                    <View>\r\n                      <Text style={styles.userText}>🆔 {item.identificacion}</Text>\r\n                      <Text style={styles.userText}>🧑‍💼 {item.username}</Text>\r\n                      <Text style={styles.userText}>🎓 {item.role}</Text>\r\n                    </View>\r\n                    <View style={styles.userActions}>\r\n                      <TouchableOpacity style={styles.editBtn} onPress={() => handleEditUser(item)}>\r\n                        <Text style={styles.actionText}>Editar</Text>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity style={styles.deleteBtn} onPress={() => handleDeleteUser(item.id)}>\r\n                        <Text style={styles.actionText}>Eliminar</Text>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                  </View>\r\n                ))\r\n              )}\r\n            </View>\r\n          </View>\r\n        </ScrollView>\r\n      </KeyboardAvoidingView>\r\n    </ImageBackground>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  bg: {\r\n    flex: 1,\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  scrollContainer: {\r\n    flexGrow: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    paddingVertical: 32,\r\n    paddingHorizontal: 8,\r\n  },\r\n  profileCard: {\r\n    maxWidth: 850,\r\n    width: '98%',\r\n    alignSelf: 'center',\r\n    marginTop: 40,\r\n    backgroundColor: 'rgba(255,255,255,0.97)',\r\n    borderRadius: 20,\r\n    shadowColor: '#4361ee',\r\n    shadowOffset: { width: 0, height: 10 },\r\n    shadowOpacity: 0.18,\r\n    shadowRadius: 30,\r\n    elevation: 10,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e6f1',\r\n    overflow: 'hidden',\r\n    marginBottom: 40,\r\n  },\r\n  profileHeader: {\r\n    backgroundColor: '#3434e6',\r\n    paddingVertical: 32,\r\n    paddingHorizontal: 32,\r\n    borderTopLeftRadius: 20,\r\n    borderTopRightRadius: 20,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 12,\r\n    borderBottomWidth: 2,\r\n    borderBottomColor: '#eaf1fb',\r\n  },\r\n  headerTitle: {\r\n    color: '#fff',\r\n    fontWeight: '700',\r\n    fontSize: 28,\r\n    textShadowColor: 'rgba(0,0,0,0.2)',\r\n    textShadowOffset: { width: 0, height: 1 },\r\n    textShadowRadius: 4,\r\n  },\r\n  headerIcon: {\r\n    fontSize: 32,\r\n    marginRight: 10,\r\n    textShadowColor: 'rgba(0,0,0,0.15)',\r\n    textShadowOffset: { width: 0, height: 0 },\r\n    textShadowRadius: 2,\r\n  },\r\n  cardBody: {\r\n    paddingVertical: 36,\r\n    paddingHorizontal: 36,\r\n  },\r\n  formLabel: {\r\n    fontWeight: '600',\r\n    fontSize: 16,\r\n    color: '#343a40',\r\n    marginBottom: 8,\r\n    marginTop: 10,\r\n    letterSpacing: 0.2,\r\n  },\r\n  input: {\r\n    backgroundColor: '#f4f6fb',\r\n    padding: 14,\r\n    borderRadius: 12,\r\n    marginBottom: 10,\r\n    borderWidth: 1.5,\r\n    borderColor: '#ced4da',\r\n    fontSize: 16,\r\n    color: '#212529',\r\n    shadowColor: '#eaf1fb',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.08,\r\n    shadowRadius: 4,\r\n    elevation: 1,\r\n  },\r\n  pickerWrapper: {\r\n    backgroundColor: '#f4f6fb',\r\n    borderRadius: 12,\r\n    borderWidth: 1.5,\r\n    borderColor: '#ced4da',\r\n    marginBottom: 18,\r\n    overflow: 'hidden',\r\n  },\r\n  picker: {\r\n    height: 48,\r\n    width: '100%',\r\n    color: '#263159',\r\n  },\r\n  btnRow: {\r\n    flexDirection: 'row',\r\n    gap: 10,\r\n    marginBottom: 10,\r\n  },\r\n  btnPrimary: {\r\n    backgroundColor: '#4361ee',\r\n    borderRadius: 14,\r\n    paddingVertical: 13,\r\n    paddingHorizontal: 30,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 18,\r\n    shadowColor: '#4361ee',\r\n    shadowOffset: { width: 0, height: 6 },\r\n    shadowOpacity: 0.3,\r\n    shadowRadius: 15,\r\n    elevation: 4,\r\n  },\r\n  btnSecondary: {\r\n    backgroundColor: '#6c757d',\r\n    borderRadius: 14,\r\n    paddingVertical: 13,\r\n    paddingHorizontal: 30,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    marginBottom: 18,\r\n    marginLeft: 0,\r\n  },\r\n  btnText: {\r\n    color: '#fff',\r\n    fontWeight: '700',\r\n    fontSize: 17,\r\n    textAlign: 'center',\r\n    letterSpacing: 0.5,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 20,\r\n    fontWeight: '700',\r\n    color: '#1b1b1b',\r\n    borderLeftWidth: 5,\r\n    borderLeftColor: '#4895ef',\r\n    paddingLeft: 12,\r\n    marginBottom: 18,\r\n    marginTop: 10,\r\n    userSelect: 'none',\r\n    backgroundColor: 'rgba(232, 240, 254, 0.7)',\r\n    borderRadius: 8,\r\n  },\r\n  noUsersText: {\r\n    textAlign: 'center',\r\n    color: '#888',\r\n    marginTop: 10,\r\n    fontSize: 16,\r\n    fontStyle: 'italic',\r\n  },\r\n  userRow: {\r\n    backgroundColor: 'rgba(248,250,252,0.95)',\r\n    borderRadius: 12,\r\n    padding: 16,\r\n    marginBottom: 10,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e6f1',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    shadowColor: '#4361ee',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.08,\r\n    shadowRadius: 6,\r\n    elevation: 2,\r\n  },\r\n  userActions: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    flexShrink: 0,\r\n    flexWrap: 'wrap',\r\n    gap: 6,\r\n  },\r\n  editBtn: {\r\n    backgroundColor: '#4895ef',\r\n    borderRadius: 8,\r\n    paddingVertical: 6,\r\n    paddingHorizontal: 14,\r\n    marginRight: 0,\r\n    marginBottom: 4,\r\n  },\r\n  deleteBtn: {\r\n    backgroundColor: '#ef476f',\r\n    borderRadius: 8,\r\n    paddingVertical: 6,\r\n    paddingHorizontal: 14,\r\n    marginBottom: 4,\r\n  },\r\n  actionText: {\r\n    color: '#fff',\r\n    fontWeight: '700',\r\n    fontSize: 14,\r\n    textAlign: 'center',\r\n  },\r\n  userText: {\r\n    fontSize: 15,\r\n    color: '#263159',\r\n    fontWeight: '500',\r\n    marginBottom: 2,\r\n  },\r\n  block: {\r\n    padding: 20,\r\n    textAlign: 'center',\r\n    fontSize: 18,\r\n    color: 'red',\r\n  },\r\n});","import React from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, Platform, ImageBackground } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\nexport default function PanelCandidatoScreen() {\r\n    const navigation = useNavigation();\r\n\r\n    const actions = [\r\n        {\r\n            label: 'Editar Perfil',\r\n            icon: 'person',\r\n            color: '#34495e',\r\n            screen: 'Perfil',\r\n        },\r\n        {\r\n            label: 'Lista de Candidaturas',\r\n            icon: 'document-text-outline',\r\n            color: '#2980b9',\r\n            screen: 'Lista de candidaturas',\r\n        },\r\n        {\r\n            label: 'Resultados',\r\n            icon: 'bar-chart-outline',\r\n            color: '#e74c3c',\r\n            screen: 'Resulados',\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <ImageBackground\r\n            source={require('../assets/fondo.png')}\r\n            style={styles.bg}\r\n            resizeMode=\"cover\"\r\n        >\r\n            <ScrollView contentContainerStyle={styles.scrollContainer}>\r\n                <View style={styles.dashboardContainer}>\r\n                    {/* Logo institucional vectorial */}\r\n                    <View style={styles.logoContainer}>\r\n                        <Ionicons name=\"school\" size={80} color=\"#3498db\" />\r\n                    </View>\r\n                    <Text style={styles.sectionTitle}>Panel de Candidato</Text>\r\n                    <View style={styles.profileSection}>\r\n                        <Text style={styles.welcomeText}>Bienvenido a la Aplicación</Text>\r\n                        <View style={styles.roleBadge}>\r\n                            <Ionicons name=\"shield-checkmark\" size={18} color=\"#fff\" style={{ marginRight: 6 }} />\r\n                            <Text style={styles.roleBadgeText}>Candidato</Text>\r\n                        </View>\r\n                    </View>\r\n                    <View style={styles.actionsContainer}>\r\n                        {actions.map((action) => (\r\n                            <TouchableOpacity\r\n                                key={action.label}\r\n                                style={[\r\n                                    styles.actionCard,\r\n                                    { shadowColor: action.color },\r\n                                    Platform.OS === 'web' ? { cursor: 'pointer' } : {},\r\n                                ]}\r\n                                activeOpacity={0.85}\r\n                                onPress={() => navigation.navigate(action.screen as never)}\r\n                            >\r\n                                <View style={[styles.iconCircle, { backgroundColor: action.color + '22' }]}>\r\n                                    <Ionicons name={action.icon as any} size={28} color={action.color} />\r\n                                </View>\r\n                                <Text style={[styles.actionLabel, { color: action.color }]}>{action.label}</Text>\r\n                            </TouchableOpacity>\r\n                        ))}\r\n                    </View>\r\n                </View>\r\n            </ScrollView>\r\n        </ImageBackground>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    bg: {\r\n        flex: 1,\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n    scrollContainer: {\r\n        flexGrow: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        paddingVertical: 32,\r\n    },\r\n    dashboardContainer: {\r\n        width: '98%',\r\n        maxWidth: 500,\r\n        backgroundColor: '#fff',\r\n        padding: 32,\r\n        borderRadius: 20,\r\n        borderWidth: 1,\r\n        borderColor: 'rgba(0,0,0,0.04)',\r\n        shadowColor: '#2c3e50',\r\n        shadowOffset: { width: 0, height: 8 },\r\n        shadowOpacity: 0.10,\r\n        shadowRadius: 24,\r\n        elevation: 10,\r\n        alignItems: 'center',\r\n    },\r\n    logoContainer: {\r\n        backgroundColor: '#ecf0f1',\r\n        borderRadius: 60,\r\n        width: 110,\r\n        height: 110,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        marginBottom: 12,\r\n        borderWidth: 2,\r\n        borderColor: '#fff',\r\n        shadowColor: '#3498db',\r\n        shadowOpacity: 0.10,\r\n        shadowRadius: 8,\r\n        elevation: 4,\r\n    },\r\n    sectionTitle: {\r\n        color: '#2c3e50',\r\n        fontWeight: '700',\r\n        fontSize: 26,\r\n        marginBottom: 14,\r\n        letterSpacing: 0.5,\r\n        borderBottomWidth: 2,\r\n        borderBottomColor: '#f0f0f0',\r\n        paddingBottom: 6,\r\n        width: '100%',\r\n        textAlign: 'center',\r\n    },\r\n    profileSection: {\r\n        backgroundColor: '#f8fafc',\r\n        borderRadius: 10,\r\n        padding: 18,\r\n        marginBottom: 24,\r\n        borderWidth: 1,\r\n        borderColor: 'rgba(0,0,0,0.04)',\r\n        alignItems: 'center',\r\n        width: '100%',\r\n    },\r\n    welcomeText: {\r\n        color: '#2c3e50',\r\n        fontWeight: '600',\r\n        fontSize: 18,\r\n        marginBottom: 8,\r\n        textAlign: 'center',\r\n    },\r\n    roleBadge: {\r\n        flexDirection: 'row',\r\n        backgroundColor: '#3498db',\r\n        borderRadius: 50,\r\n        paddingVertical: 5,\r\n        paddingHorizontal: 18,\r\n        alignSelf: 'center',\r\n        alignItems: 'center',\r\n        marginTop: 4,\r\n    },\r\n    roleBadgeText: {\r\n        color: '#fff',\r\n        fontWeight: '500',\r\n        fontSize: 15,\r\n        letterSpacing: 0.5,\r\n    },\r\n    actionsContainer: {\r\n        width: '100%',\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-between',\r\n        gap: 18,\r\n    },\r\n    actionCard: {\r\n        backgroundColor: '#f7fafd',\r\n        borderRadius: 14,\r\n        paddingVertical: 22,\r\n        paddingHorizontal: 18,\r\n        alignItems: 'center',\r\n        marginBottom: 14,\r\n        width: '47%',\r\n        minWidth: 150,\r\n        shadowOffset: { width: 0, height: 4 },\r\n        shadowOpacity: 0.13,\r\n        shadowRadius: 8,\r\n        elevation: 3,\r\n        borderWidth: 1,\r\n        borderColor: '#e3e9f7',\r\n    },\r\n    iconCircle: {\r\n        width: 48,\r\n        height: 48,\r\n        borderRadius: 24,\r\n        backgroundColor: '#eaf1fb',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        marginBottom: 10,\r\n    },\r\n    actionLabel: {\r\n        fontWeight: 'bold',\r\n        fontSize: 16,\r\n        textAlign: 'center',\r\n        letterSpacing: 0.5,\r\n    },\r\n});","import React from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, Platform, ImageBackground } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport { supabase } from '../lib/supabase';\r\n\r\nexport default function PanelVotanteScreen() {\r\n    const navigation = useNavigation();\r\n    console.log('Usuario actual:', supabase.auth.user);\r\n\r\n    const actions = [\r\n        {\r\n            label: 'Editar Perfil',\r\n            icon: 'person',\r\n            color: '#34495e',\r\n            screen: 'Perfil',\r\n        },\r\n        {\r\n            label: 'Resultados',\r\n            icon: 'bar-chart-outline',\r\n            color: '#e74c3c',\r\n            screen: 'Resulados',\r\n        },\r\n        {\r\n            label: 'Realizar Votación',\r\n            icon: 'checkmark-circle-outline',\r\n            color: '#27ae60',\r\n            screen: 'Realizar Votacion',\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <ImageBackground\r\n            source={require('../assets/fondo.png')}\r\n            style={styles.bg}\r\n            resizeMode=\"cover\"\r\n        >\r\n            <ScrollView contentContainerStyle={styles.scrollContainer}>\r\n                <View style={styles.dashboardContainer}>\r\n                    {/* Logo institucional vectorial */}\r\n                    <View style={styles.logoContainer}>\r\n                        <Ionicons name=\"school\" size={80} color=\"#3498db\" />\r\n                    </View>\r\n                    <Text style={styles.sectionTitle}>Panel de Votante</Text>\r\n                    <View style={styles.profileSection}>\r\n                        <Text style={styles.welcomeText}>Bienvenido a la Aplicación</Text>\r\n                        <View style={styles.roleBadge}>\r\n                            <Ionicons name=\"shield-checkmark\" size={18} color=\"#fff\" style={{ marginRight: 6 }} />\r\n                            <Text style={styles.roleBadgeText}>Votante</Text>\r\n                        </View>\r\n                    </View>\r\n                    <View style={styles.actionsContainer}>\r\n                        {actions.map((action) => (\r\n                            <TouchableOpacity\r\n                                key={action.label}\r\n                                style={[\r\n                                    styles.actionCard,\r\n                                    { shadowColor: action.color },\r\n                                    Platform.OS === 'web' ? { cursor: 'pointer' } : {},\r\n                                ]}\r\n                                activeOpacity={0.85}\r\n                                onPress={() => navigation.navigate(action.screen as never)}\r\n                            >\r\n                                <View style={[styles.iconCircle, { backgroundColor: action.color + '22' }]}>\r\n                                    <Ionicons name={action.icon as any} size={28} color={action.color} />\r\n                                </View>\r\n                                <Text style={[styles.actionLabel, { color: action.color }]}>{action.label}</Text>\r\n                            </TouchableOpacity>\r\n                        ))}\r\n                    </View>\r\n                </View>\r\n            </ScrollView>\r\n        </ImageBackground>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    bg: {\r\n        flex: 1,\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n    scrollContainer: {\r\n        flexGrow: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        paddingVertical: 32,\r\n    },\r\n    dashboardContainer: {\r\n        width: '98%',\r\n        maxWidth: 500,\r\n        backgroundColor: '#fff',\r\n        padding: 32,\r\n        borderRadius: 20,\r\n        borderWidth: 1,\r\n        borderColor: 'rgba(0,0,0,0.04)',\r\n        shadowColor: '#2c3e50',\r\n        shadowOffset: { width: 0, height: 8 },\r\n        shadowOpacity: 0.10,\r\n        shadowRadius: 24,\r\n        elevation: 10,\r\n        alignItems: 'center',\r\n    },\r\n    logoContainer: {\r\n        backgroundColor: '#ecf0f1',\r\n        borderRadius: 60,\r\n        width: 110,\r\n        height: 110,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        marginBottom: 12,\r\n        borderWidth: 2,\r\n        borderColor: '#fff',\r\n        shadowColor: '#3498db',\r\n        shadowOpacity: 0.10,\r\n        shadowRadius: 8,\r\n        elevation: 4,\r\n    },\r\n    sectionTitle: {\r\n        color: '#2c3e50',\r\n        fontWeight: '700',\r\n        fontSize: 26,\r\n        marginBottom: 14,\r\n        letterSpacing: 0.5,\r\n        borderBottomWidth: 2,\r\n        borderBottomColor: '#f0f0f0',\r\n        paddingBottom: 6,\r\n        width: '100%',\r\n        textAlign: 'center',\r\n    },\r\n    profileSection: {\r\n        backgroundColor: '#f8fafc',\r\n        borderRadius: 10,\r\n        padding: 18,\r\n        marginBottom: 24,\r\n        borderWidth: 1,\r\n        borderColor: 'rgba(0,0,0,0.04)',\r\n        alignItems: 'center',\r\n        width: '100%',\r\n    },\r\n    welcomeText: {\r\n        color: '#2c3e50',\r\n        fontWeight: '600',\r\n        fontSize: 18,\r\n        marginBottom: 8,\r\n        textAlign: 'center',\r\n    },\r\n    roleBadge: {\r\n        flexDirection: 'row',\r\n        backgroundColor: '#3498db',\r\n        borderRadius: 50,\r\n        paddingVertical: 5,\r\n        paddingHorizontal: 18,\r\n        alignSelf: 'center',\r\n        alignItems: 'center',\r\n        marginTop: 4,\r\n    },\r\n    roleBadgeText: {\r\n        color: '#fff',\r\n        fontWeight: '500',\r\n        fontSize: 15,\r\n        letterSpacing: 0.5,\r\n    },\r\n    actionsContainer: {\r\n        width: '100%',\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-between',\r\n        gap: 18,\r\n    },\r\n    actionCard: {\r\n        backgroundColor: '#f7fafd',\r\n        borderRadius: 14,\r\n        paddingVertical: 22,\r\n        paddingHorizontal: 18,\r\n        alignItems: 'center',\r\n        marginBottom: 14,\r\n        width: '47%',\r\n        minWidth: 150,\r\n        shadowOffset: { width: 0, height: 4 },\r\n        shadowOpacity: 0.13,\r\n        shadowRadius: 8,\r\n        elevation: 3,\r\n        borderWidth: 1,\r\n        borderColor: '#e3e9f7',\r\n    },\r\n    iconCircle: {\r\n        width: 48,\r\n        height: 48,\r\n        borderRadius: 24,\r\n        backgroundColor: '#eaf1fb',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        marginBottom: 10,\r\n    },\r\n    actionLabel: {\r\n        fontWeight: 'bold',\r\n        fontSize: 16,\r\n        textAlign: 'center',\r\n        letterSpacing: 0.5,\r\n    },\r\n});","import React from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, Platform, ImageBackground } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\nexport default function PanelAdministrativoScreen() {\r\n    const navigation = useNavigation();\r\n\r\n    const actions = [\r\n        {\r\n            label: 'Editar Perfil',\r\n            icon: 'person',\r\n            color: '#34495e',\r\n            screen: 'Perfil',\r\n        },\r\n        {\r\n            label: 'Resultados',\r\n            icon: 'bar-chart-outline',\r\n            color: '#e74c3c',\r\n            screen: 'Resulados',\r\n        },\r\n        {\r\n            label: 'Ver Candidaturas',\r\n            icon: 'people',\r\n            color: '#8e44ad',\r\n            screen: 'Lista de candidaturas',\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <ImageBackground\r\n            source={require('../assets/fondo.png')}\r\n            style={styles.bg}\r\n            resizeMode=\"cover\"\r\n        >\r\n            <ScrollView contentContainerStyle={styles.scrollContainer}>\r\n                <View style={styles.dashboardContainer}>\r\n                    <View style={styles.logoContainer}>\r\n                        <Ionicons name=\"school\" size={80} color=\"#3498db\" />\r\n                    </View>\r\n                    <Text style={styles.sectionTitle}>Panel de Administrativo</Text>\r\n                    <View style={styles.profileSection}>\r\n                        <Text style={styles.welcomeText}>Bienvenido a la Aplicación</Text>\r\n                        <View style={styles.roleBadge}>\r\n                            <Ionicons name=\"shield-checkmark\" size={18} color=\"#fff\" style={{ marginRight: 6 }} />\r\n                            <Text style={styles.roleBadgeText}>Administrativo</Text>\r\n                        </View>\r\n                    </View>\r\n                    <View style={styles.actionsContainer}>\r\n                        {actions.map((action) => (\r\n                            <TouchableOpacity\r\n                                key={action.label}\r\n                                style={[\r\n                                    styles.actionCard,\r\n                                    { shadowColor: action.color },\r\n                                    Platform.OS === 'web' ? { cursor: 'pointer' } : {},\r\n                                ]}\r\n                                activeOpacity={0.85}\r\n                                onPress={() => navigation.navigate(action.screen as never)}\r\n                            >\r\n                                <View style={[styles.iconCircle, { backgroundColor: action.color + '22' }]}>\r\n                                    <Ionicons name={action.icon as any} size={28} color={action.color} />\r\n                                </View>\r\n                                <Text style={[styles.actionLabel, { color: action.color }]}>{action.label}</Text>\r\n                            </TouchableOpacity>\r\n                        ))}\r\n                    </View>\r\n                </View>\r\n            </ScrollView>\r\n        </ImageBackground>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    bg: {\r\n        flex: 1,\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n    scrollContainer: {\r\n        flexGrow: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        paddingVertical: 32,\r\n        paddingHorizontal: 12, // Añade padding lateral\r\n    },\r\n    dashboardContainer: {\r\n        width: '100%',\r\n        maxWidth: 420,\r\n        backgroundColor: '#fff',\r\n        padding: 10,\r\n        borderRadius: 20,\r\n        borderWidth: 1,\r\n        borderColor: 'rgba(0,0,0,0.04)',\r\n        shadowColor: '#2c3e50',\r\n        shadowOffset: { width: 0, height: 8 },\r\n        shadowOpacity: 0.10,\r\n        shadowRadius: 24,\r\n        elevation: 10,\r\n        alignItems: 'center',\r\n    },\r\n    actionsContainer: {\r\n        width: '100%',\r\n        flexDirection: 'column',\r\n        gap: 18,\r\n        alignItems: 'center', // Centra los botones\r\n    },\r\n    actionCard: {\r\n        backgroundColor: '#f7fafd',\r\n        borderRadius: 14,\r\n        paddingVertical: 24,\r\n        paddingHorizontal: 18,\r\n        alignItems: 'center',\r\n        marginBottom: 18,\r\n        width: '100%', // Ocupa casi todo el ancho\r\n        alignSelf: 'center',\r\n        shadowOffset: { width: 0, height: 4 },\r\n        shadowOpacity: 0.13,\r\n        shadowRadius: 8,\r\n        elevation: 3,\r\n        borderWidth: 1,\r\n        borderColor: '#e3e9f7',\r\n    },\r\n    logoContainer: {\r\n        backgroundColor: '#ecf0f1',\r\n        borderRadius: 60,\r\n        width: 110,\r\n        height: 110,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        marginBottom: 12,\r\n        borderWidth: 2,\r\n        borderColor: '#fff',\r\n        shadowColor: '#3498db',\r\n        shadowOpacity: 0.10,\r\n        shadowRadius: 8,\r\n        elevation: 4,\r\n    },\r\n    sectionTitle: {\r\n        color: '#2c3e50',\r\n        fontWeight: '700',\r\n        fontSize: 26,\r\n        marginBottom: 14,\r\n        letterSpacing: 0.5,\r\n        borderBottomWidth: 2,\r\n        borderBottomColor: '#f0f0f0',\r\n        paddingBottom: 6,\r\n        width: '100%',\r\n        textAlign: 'center',\r\n    },\r\n    profileSection: {\r\n        backgroundColor: '#f8fafc',\r\n        borderRadius: 10,\r\n        padding: 18,\r\n        marginBottom: 24,\r\n        borderWidth: 1,\r\n        borderColor: 'rgba(0,0,0,0.04)',\r\n        alignItems: 'center',\r\n        width: '100%',\r\n    },\r\n    welcomeText: {\r\n        color: '#2c3e50',\r\n        fontWeight: '600',\r\n        fontSize: 18,\r\n        marginBottom: 8,\r\n        textAlign: 'center',\r\n    },\r\n    roleBadge: {\r\n        flexDirection: 'row',\r\n        backgroundColor: '#3498db',\r\n        borderRadius: 50,\r\n        paddingVertical: 5,\r\n        paddingHorizontal: 18,\r\n        alignSelf: 'center',\r\n        alignItems: 'center',\r\n        marginTop: 4,\r\n    },\r\n    roleBadgeText: {\r\n        color: '#fff',\r\n        fontWeight: '500',\r\n        fontSize: 15,\r\n        letterSpacing: 0.5,\r\n    },\r\n    iconCircle: {\r\n        width: 48,\r\n        height: 48,\r\n        borderRadius: 24,\r\n        backgroundColor: '#eaf1fb',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        marginBottom: 10,\r\n    },\r\n    actionLabel: {\r\n        fontWeight: 'bold',\r\n        fontSize: 16,\r\n        textAlign: 'center',\r\n        letterSpacing: 0.5,\r\n    },\r\n});","import React from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, Platform, ImageBackground } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\nexport default function PanelAdminScreen() {\r\n    const navigation = useNavigation();\r\n\r\n    const actions = [\r\n        {\r\n            label: 'Gestionar Usuarios',\r\n            icon: 'people',\r\n            color: '#2980b9',\r\n            screen: 'Usuarios',\r\n        },\r\n        {\r\n            label: 'Crear Elección',\r\n            icon: 'checkbox-outline',\r\n            color: '#27ae60',\r\n            screen: 'Crear Eleccion',\r\n        },\r\n        {\r\n            label: 'Asignar Candidato',\r\n            icon: 'add-circle-outline',\r\n            color: '#f39c12',\r\n            screen: 'Asignar Candidato',\r\n        },\r\n        {\r\n            label: 'Lista de Candidaturas',\r\n            icon: 'list-outline',\r\n            color: '#8e44ad',\r\n            screen: 'Lista de candidaturas',\r\n        },\r\n        {\r\n            label: 'Resultados',\r\n            icon: 'bar-chart-outline',\r\n            color: '#e74c3c',\r\n            screen: 'Resulados',\r\n        },\r\n        {\r\n            label: 'Editar Perfil',\r\n            icon: 'person',\r\n            color: '#34495e',\r\n            screen: 'Perfil',\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <ImageBackground\r\n            source={require('../assets/fondo.png')}\r\n            style={styles.bg}\r\n            resizeMode=\"cover\"\r\n        >\r\n            <ScrollView contentContainerStyle={styles.scrollContainer}>\r\n                <View style={styles.dashboardContainer}>\r\n                    {/* Logo institucional vectorial */}\r\n                    <View style={styles.logoContainer}>\r\n                        <Ionicons name=\"school\" size={80} color=\"#3498db\" />\r\n                    </View>\r\n                    <Text style={styles.sectionTitle}>Panel de Administración</Text>\r\n                    <View style={styles.profileSection}>\r\n                        <Text style={styles.welcomeText}>Bienvenido a la Aplicación</Text>\r\n                        <View style={styles.roleBadge}>\r\n                            <Ionicons name=\"shield-checkmark\" size={18} color=\"#fff\" style={{ marginRight: 6 }} />\r\n                            <Text style={styles.roleBadgeText}>Administrador</Text>\r\n                        </View>\r\n                    </View>\r\n                    <View style={styles.actionsContainer}>\r\n                        {actions.map((action, idx) => (\r\n                            <TouchableOpacity\r\n                                key={action.label}\r\n                                style={[\r\n                                    styles.actionCard,\r\n                                    { shadowColor: action.color },\r\n                                    Platform.OS === 'web' ? { cursor: 'pointer' } : {},\r\n                                ]}\r\n                                activeOpacity={0.85}\r\n                                onPress={() => navigation.navigate(action.screen as never)}\r\n                            >\r\n                                <View style={[styles.iconCircle, { backgroundColor: action.color + '22' }]}>\r\n                                    <Ionicons name={action.icon as any} size={28} color={action.color} />\r\n                                </View>\r\n                                <Text style={[styles.actionLabel, { color: action.color }]}>{action.label}</Text>\r\n                            </TouchableOpacity>\r\n                        ))}\r\n                    </View>\r\n                </View>\r\n            </ScrollView>\r\n        </ImageBackground>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    bg: {\r\n        flex: 1,\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n    scrollContainer: {\r\n        flexGrow: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        paddingVertical: 32,\r\n    },\r\n    dashboardContainer: {\r\n        width: '98%',\r\n        maxWidth: 500,\r\n        backgroundColor: '#fff',\r\n        padding: 32,\r\n        borderRadius: 20,\r\n        borderWidth: 1,\r\n        borderColor: 'rgba(0,0,0,0.04)',\r\n        shadowColor: '#2c3e50',\r\n        shadowOffset: { width: 0, height: 8 },\r\n        shadowOpacity: 0.10,\r\n        shadowRadius: 24,\r\n        elevation: 10,\r\n        alignItems: 'center',\r\n    },\r\n    logoContainer: {\r\n        backgroundColor: '#ecf0f1',\r\n        borderRadius: 60,\r\n        width: 110,\r\n        height: 110,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        marginBottom: 12,\r\n        borderWidth: 2,\r\n        borderColor: '#fff',\r\n        shadowColor: '#3498db',\r\n        shadowOpacity: 0.10,\r\n        shadowRadius: 8,\r\n        elevation: 4,\r\n    },\r\n    sectionTitle: {\r\n        color: '#2c3e50',\r\n        fontWeight: '700',\r\n        fontSize: 26,\r\n        marginBottom: 14,\r\n        letterSpacing: 0.5,\r\n        borderBottomWidth: 2,\r\n        borderBottomColor: '#f0f0f0',\r\n        paddingBottom: 6,\r\n        width: '100%',\r\n        textAlign: 'center',\r\n    },\r\n    profileSection: {\r\n        backgroundColor: '#f8fafc',\r\n        borderRadius: 10,\r\n        padding: 18,\r\n        marginBottom: 24,\r\n        borderWidth: 1,\r\n        borderColor: 'rgba(0,0,0,0.04)',\r\n        alignItems: 'center',\r\n        width: '100%',\r\n    },\r\n    welcomeText: {\r\n        color: '#2c3e50',\r\n        fontWeight: '600',\r\n        fontSize: 18,\r\n        marginBottom: 8,\r\n        textAlign: 'center',\r\n    },\r\n    roleBadge: {\r\n        flexDirection: 'row',\r\n        backgroundColor: '#3498db',\r\n        borderRadius: 50,\r\n        paddingVertical: 5,\r\n        paddingHorizontal: 18,\r\n        alignSelf: 'center',\r\n        alignItems: 'center',\r\n        marginTop: 4,\r\n    },\r\n    roleBadgeText: {\r\n        color: '#fff',\r\n        fontWeight: '500',\r\n        fontSize: 15,\r\n        letterSpacing: 0.5,\r\n    },\r\n    actionsContainer: {\r\n        width: '100%',\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-between',\r\n        gap: 18,\r\n    },\r\n    actionCard: {\r\n        backgroundColor: '#f7fafd',\r\n        borderRadius: 14,\r\n        paddingVertical: 22,\r\n        paddingHorizontal: 18,\r\n        alignItems: 'center',\r\n        marginBottom: 14,\r\n        width: '47%',\r\n        minWidth: 150,\r\n        shadowOffset: { width: 0, height: 4 },\r\n        shadowOpacity: 0.13,\r\n        shadowRadius: 8,\r\n        elevation: 3,\r\n        borderWidth: 1,\r\n        borderColor: '#e3e9f7',\r\n    },\r\n    iconCircle: {\r\n        width: 48,\r\n        height: 48,\r\n        borderRadius: 24,\r\n        backgroundColor: '#eaf1fb',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        marginBottom: 10,\r\n    },\r\n    actionLabel: {\r\n        fontWeight: 'bold',\r\n        fontSize: 16,\r\n        textAlign: 'center',\r\n        letterSpacing: 0.5,\r\n    },\r\n});","import React, { useState } from 'react';\r\nimport {\r\n  ScrollView,\r\n  StyleSheet,\r\n  Text,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  View,\r\n  Alert,\r\n  Animated,\r\n  Platform,\r\n  ImageBackground,\r\n} from 'react-native';\r\nimport { Picker } from '@react-native-picker/picker';\r\nimport DateTimePicker from '@react-native-community/datetimepicker';\r\nimport { supabase } from '../lib/supabase';\r\n\r\nexport default function CrearEleccionScreen() {\r\n  const [nombre, setNombre] = useState('');\r\n  const [descripcion, setDescripcion] = useState('');\r\n  const [tipoRepresentacion, setTipoRepresentacion] = useState('facultad');\r\n  const [fechaInicio, setFechaInicio] = useState<Date | null>(null);\r\n  const [fechaFin, setFechaFin] = useState<Date | null>(null);\r\n  const [estado, setEstado] = useState('programada');\r\n  const [showInicio, setShowInicio] = useState(false);\r\n  const [showFin, setShowFin] = useState(false);\r\n  const [successMsg, setSuccessMsg] = useState('');\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const fadeAnim = useState(new Animated.Value(0))[0];\r\n  const errorAnim = useState(new Animated.Value(0))[0];\r\n\r\n  const mostrarMensaje = (msg: string) => {\r\n    setSuccessMsg(msg);\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 400,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setTimeout(() => {\r\n        Animated.timing(fadeAnim, {\r\n          toValue: 0,\r\n          duration: 400,\r\n          useNativeDriver: true,\r\n        }).start(() => setSuccessMsg(''));\r\n      }, 2500);\r\n    });\r\n  };\r\n\r\n  const mostrarError = (msg: string) => {\r\n    setErrorMsg(msg);\r\n    Animated.timing(errorAnim, {\r\n      toValue: 1,\r\n      duration: 400,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setTimeout(() => {\r\n        Animated.timing(errorAnim, {\r\n          toValue: 0,\r\n          duration: 400,\r\n          useNativeDriver: true,\r\n        }).start(() => setErrorMsg(''));\r\n      }, 2500);\r\n    });\r\n  };\r\n\r\n  const handleCrear = async () => {\r\n    if (!nombre || !tipoRepresentacion || !fechaInicio || !fechaFin || !estado) {\r\n      mostrarError('Completa todos los campos obligatorios');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const { error } = await supabase.from('eleccions').insert([{\r\n        nombre,\r\n        descripcion,\r\n        tipo_representacion: tipoRepresentacion,\r\n        fecha_inicio: fechaInicio.toISOString(),\r\n        fecha_fin: fechaFin.toISOString(),\r\n        estado,\r\n      }]);\r\n      if (error) {\r\n        Alert.alert('Error', error.message);\r\n      } else {\r\n        mostrarMensaje('✅ ¡Elección registrada exitosamente!');\r\n        setNombre('');\r\n        setDescripcion('');\r\n        setTipoRepresentacion('facultad');\r\n        setFechaInicio(null);\r\n        setFechaFin(null);\r\n        setEstado('programada');\r\n      }\r\n    } catch (e: any) {\r\n      Alert.alert('Error', e.message || 'No se pudo crear la elección');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ImageBackground\r\n      source={require('../assets/fondo.png')}\r\n      style={styles.bg}\r\n      resizeMode=\"cover\"\r\n    >\r\n      <ScrollView contentContainerStyle={styles.container}>\r\n        <View style={styles.card}>\r\n          <Text style={styles.title}>🗳️ Crear Elección</Text>\r\n\r\n          {errorMsg ? (\r\n            <Animated.View style={[styles.errorMsg, { opacity: errorAnim }]}>\r\n              <Text style={styles.errorText}>{errorMsg}</Text>\r\n            </Animated.View>\r\n          ) : null}\r\n\r\n          {successMsg ? (\r\n            <Animated.View style={[styles.successMsg, { opacity: fadeAnim }]}>\r\n              <Text style={styles.successText}>{successMsg}</Text>\r\n            </Animated.View>\r\n          ) : null}\r\n\r\n          <Text style={styles.label}>Nombre *</Text>\r\n          <TextInput\r\n            style={styles.input}\r\n            value={nombre}\r\n            onChangeText={setNombre}\r\n            placeholder=\"Nombre de la elección\"\r\n            placeholderTextColor=\"#b0b6c1\"\r\n          />\r\n\r\n          <Text style={styles.label}>Descripción</Text>\r\n          <TextInput\r\n            style={[styles.input, { height: 80 }]}\r\n            value={descripcion}\r\n            onChangeText={setDescripcion}\r\n            placeholder=\"Descripción\"\r\n            placeholderTextColor=\"#b0b6c1\"\r\n            multiline\r\n          />\r\n\r\n          <Text style={styles.label}>Tipo de Representación *</Text>\r\n          <View style={styles.pickerContainer}>\r\n            <Picker\r\n              selectedValue={tipoRepresentacion}\r\n              onValueChange={setTipoRepresentacion}\r\n              style={styles.picker}\r\n              dropdownIconColor=\"#4361ee\"\r\n            >\r\n              <Picker.Item label=\"Facultad\" value=\"facultad\" />\r\n              <Picker.Item label=\"Semestre\" value=\"semestre\" />\r\n              <Picker.Item label=\"Comité\" value=\"comite\" />\r\n            </Picker>\r\n          </View>\r\n\r\n          <Text style={styles.label}>Fecha de Inicio *</Text>\r\n          {Platform.OS === 'web' ? (\r\n            <input\r\n              type=\"datetime-local\"\r\n              style={{ ...styles.input, padding: 10, fontSize: 15 }}\r\n              value={fechaInicio ? fechaInicio.toISOString().slice(0, 16) : ''}\r\n              onChange={e => setFechaInicio(e.target.value ? new Date(e.target.value) : null)}\r\n            />\r\n          ) : (\r\n            <>\r\n              <TouchableOpacity\r\n                style={styles.input}\r\n                onPress={() => setShowInicio(true)}\r\n              >\r\n                <Text style={{ color: fechaInicio ? '#263159' : '#888' }}>\r\n                  {fechaInicio\r\n                    ? fechaInicio.toLocaleString()\r\n                    : 'Selecciona fecha y hora de inicio'}\r\n                </Text>\r\n              </TouchableOpacity>\r\n              {showInicio && (\r\n                <DateTimePicker\r\n                  value={fechaInicio || new Date()}\r\n                  mode=\"datetime\"\r\n                  display=\"default\"\r\n                  onChange={(_, date) => {\r\n                    setShowInicio(false);\r\n                    if (date) setFechaInicio(date);\r\n                  }}\r\n                />\r\n              )}\r\n            </>\r\n          )}\r\n\r\n          <Text style={styles.label}>Fecha de Fin *</Text>\r\n          {Platform.OS === 'web' ? (\r\n            <input\r\n              type=\"datetime-local\"\r\n              style={{ ...styles.input, padding: 10, fontSize: 15 }}\r\n              value={fechaFin ? fechaFin.toISOString().slice(0, 16) : ''}\r\n              onChange={e => setFechaFin(e.target.value ? new Date(e.target.value) : null)}\r\n            />\r\n          ) : (\r\n            <>\r\n              <TouchableOpacity\r\n                style={styles.input}\r\n                onPress={() => setShowFin(true)}\r\n              >\r\n                <Text style={{ color: fechaFin ? '#263159' : '#888' }}>\r\n                  {fechaFin\r\n                    ? fechaFin.toLocaleString()\r\n                    : 'Selecciona fecha y hora de fin'}\r\n                </Text>\r\n              </TouchableOpacity>\r\n              {showFin && (\r\n                <DateTimePicker\r\n                  value={fechaFin || new Date()}\r\n                  mode=\"datetime\"\r\n                  display=\"default\"\r\n                  onChange={(_, date) => {\r\n                    setShowFin(false);\r\n                    if (date) setFechaFin(date);\r\n                  }}\r\n                />\r\n              )}\r\n            </>\r\n          )}\r\n\r\n          <Text style={styles.label}>Estado *</Text>\r\n          <View style={styles.pickerContainer}>\r\n            <Picker\r\n              selectedValue={estado}\r\n              onValueChange={setEstado}\r\n              style={styles.picker}\r\n              dropdownIconColor=\"#4361ee\"\r\n            >\r\n              <Picker.Item label=\"Activa\" value=\"activa\" />\r\n              <Picker.Item label=\"Finalizada\" value=\"finalizada\" />\r\n              <Picker.Item label=\"Programada\" value=\"programada\" />\r\n            </Picker>\r\n          </View>\r\n\r\n          <TouchableOpacity style={styles.btnPrimary} onPress={handleCrear}>\r\n            <Text style={styles.btnText}>Registrar Elección</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </ScrollView>\r\n    </ImageBackground>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  bg: {\r\n    flex: 1,\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  container: {\r\n    padding: 24,\r\n    flexGrow: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  card: {\r\n    backgroundColor: 'rgba(255,255,255,0.97)',\r\n    borderRadius: 22,\r\n    padding: 32,\r\n    maxWidth: 500,\r\n    width: '100%',\r\n    alignSelf: 'center',\r\n    shadowColor: '#4361ee',\r\n    shadowOffset: { width: 0, height: 10 },\r\n    shadowOpacity: 0.15,\r\n    shadowRadius: 24,\r\n    elevation: 8,\r\n    marginTop: 40,\r\n    marginBottom: 40,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e6f1',\r\n  },\r\n  title: {\r\n    fontSize: 30,\r\n    fontWeight: '800',\r\n    color: '#3434e6',\r\n    marginBottom: 20,\r\n    textAlign: 'center',\r\n    letterSpacing: 0.5,\r\n    textShadowColor: 'rgba(52,52,230,0.08)',\r\n    textShadowOffset: { width: 0, height: 2 },\r\n    textShadowRadius: 6,\r\n  },\r\n  label: {\r\n    fontWeight: '700',\r\n    fontSize: 16,\r\n    color: '#343a40',\r\n    marginBottom: 6,\r\n    marginTop: 14,\r\n    letterSpacing: 0.2,\r\n  },\r\n  input: {\r\n    backgroundColor: '#f4f6fb',\r\n    padding: 15,\r\n    borderRadius: 12,\r\n    marginBottom: 10,\r\n    borderWidth: 1.5,\r\n    borderColor: '#ced4da',\r\n    fontSize: 16,\r\n    color: '#212529',\r\n    shadowColor: '#eaf1fb',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.08,\r\n    shadowRadius: 4,\r\n    elevation: 1,\r\n  },\r\n  pickerContainer: {\r\n    backgroundColor: '#f4f6fb',\r\n    borderRadius: 12,\r\n    borderWidth: 1.5,\r\n    borderColor: '#ced4da',\r\n    marginBottom: 10,\r\n    overflow: 'hidden',\r\n  },\r\n  picker: {\r\n    width: '100%',\r\n    height: 48,\r\n    color: '#263159',\r\n  },\r\n  btnPrimary: {\r\n    backgroundColor: '#4361ee',\r\n    borderRadius: 16,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 30,\r\n    alignItems: 'center',\r\n    marginTop: 22,\r\n    shadowColor: '#4361ee',\r\n    shadowOffset: { width: 0, height: 8 },\r\n    shadowOpacity: 0.3,\r\n    shadowRadius: 18,\r\n    elevation: 5,\r\n  },\r\n  btnText: {\r\n    color: '#fff',\r\n    fontWeight: '800',\r\n    fontSize: 18,\r\n    textAlign: 'center',\r\n    letterSpacing: 0.5,\r\n  },\r\n  successMsg: {\r\n    backgroundColor: '#d1f7c4',\r\n    borderRadius: 10,\r\n    padding: 14,\r\n    marginBottom: 18,\r\n    alignItems: 'center',\r\n    borderWidth: 1,\r\n    borderColor: '#b6e6a7',\r\n  },\r\n  successText: {\r\n    color: '#218838',\r\n    fontWeight: '700',\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n  },\r\n  errorMsg: {\r\n    backgroundColor: '#ffe0e0',\r\n    borderRadius: 10,\r\n    padding: 14,\r\n    marginBottom: 18,\r\n    alignItems: 'center',\r\n    borderWidth: 1,\r\n    borderColor: '#ffb3b3',\r\n  },\r\n  errorText: {\r\n    color: '#d90429',\r\n    fontWeight: '700',\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { useEffect, useState } from 'react';\r\nimport {\r\n    View,\r\n    Text,\r\n    FlatList,\r\n    StyleSheet,\r\n    TouchableOpacity,\r\n    Alert,\r\n    ActivityIndicator,\r\n    TextInput,\r\n    Platform,\r\n    Animated,\r\n    ImageBackground,\r\n} from 'react-native';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport { Picker } from '@react-native-picker/picker';\r\nimport DateTimePicker from '@react-native-community/datetimepicker';\r\nimport { supabase } from '../lib/supabase';\r\n\r\nexport default function EditarEleccionesScreen() {\r\n    const [elecciones, setElecciones] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [editandoId, setEditandoId] = useState<number | null>(null);\r\n    const [form, setForm] = useState<any>({});\r\n    const [showInicio, setShowInicio] = useState(false);\r\n    const [showFin, setShowFin] = useState(false);\r\n    const [successMsg, setSuccessMsg] = useState('');\r\n    const fadeAnim = useState(new Animated.Value(0))[0];\r\n\r\n    const cargarElecciones = async () => {\r\n        setLoading(true);\r\n        const { data, error } = await supabase.from('eleccions').select('*').order('fecha_inicio', { ascending: false });\r\n        if (!error) setElecciones(data || []);\r\n        setLoading(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        cargarElecciones();\r\n    }, []);\r\n\r\n    const mostrarMensaje = (msg: string) => {\r\n        setSuccessMsg(msg);\r\n        Animated.timing(fadeAnim, {\r\n            toValue: 1,\r\n            duration: 400,\r\n            useNativeDriver: true,\r\n        }).start(() => {\r\n            setTimeout(() => {\r\n                Animated.timing(fadeAnim, {\r\n                    toValue: 0,\r\n                    duration: 400,\r\n                    useNativeDriver: true,\r\n                }).start(() => setSuccessMsg(''));\r\n            }, 2000);\r\n        });\r\n    };\r\n\r\n    const handleEliminar = (id: number) => {\r\n        if (Platform.OS === 'web') {\r\n            if (window.confirm('¿Estás seguro de que deseas eliminar esta elección?')) {\r\n                eliminarEleccion(id);\r\n            }\r\n        } else {\r\n            Alert.alert(\r\n                'Eliminar elección',\r\n                '¿Estás seguro de que deseas eliminar esta elección?',\r\n                [\r\n                    { text: 'Cancelar', style: 'cancel' },\r\n                    {\r\n                        text: 'Eliminar',\r\n                        style: 'destructive',\r\n                        onPress: () => eliminarEleccion(id),\r\n                    },\r\n                ]\r\n            );\r\n        }\r\n    };\r\n\r\n    const eliminarEleccion = async (id: number) => {\r\n        Alert.alert('Intentando eliminar elección con id:', String(id));\r\n        const { error } = await supabase.from('eleccions').delete().eq('id', id);\r\n        if (error) {\r\n            Alert.alert('Error', error.message);\r\n        } else {\r\n            mostrarMensaje('Elección eliminada');\r\n            setEditandoId(null);\r\n            setForm({});\r\n            cargarElecciones();\r\n        }\r\n    };\r\n\r\n    const handleEditar = (eleccion: any) => {\r\n        setEditandoId(eleccion.id);\r\n        setForm({\r\n            ...eleccion,\r\n            fecha_inicio: new Date(eleccion.fecha_inicio),\r\n            fecha_fin: new Date(eleccion.fecha_fin),\r\n        });\r\n    };\r\n\r\n    const handleGuardar = async () => {\r\n        if (!form.nombre || !form.tipo_representacion || !form.fecha_inicio || !form.fecha_fin || !form.estado) {\r\n            Alert.alert('Completa todos los campos obligatorios');\r\n            return;\r\n        }\r\n        const fechaInicioStr =\r\n            Platform.OS === 'web'\r\n                ? form.fecha_inicio.getFullYear() +\r\n                '-' +\r\n                String(form.fecha_inicio.getMonth() + 1).padStart(2, '0') +\r\n                '-' +\r\n                String(form.fecha_inicio.getDate()).padStart(2, '0') +\r\n                ' ' +\r\n                String(form.fecha_inicio.getHours()).padStart(2, '0') +\r\n                ':' +\r\n                String(form.fecha_inicio.getMinutes()).padStart(2, '0') +\r\n                ':00'\r\n                : form.fecha_inicio.toISOString();\r\n\r\n        const fechaFinStr =\r\n            Platform.OS === 'web'\r\n                ? form.fecha_fin.getFullYear() +\r\n                '-' +\r\n                String(form.fecha_fin.getMonth() + 1).padStart(2, '0') +\r\n                '-' +\r\n                String(form.fecha_fin.getDate()).padStart(2, '0') +\r\n                ' ' +\r\n                String(form.fecha_fin.getHours()).padStart(2, '0') +\r\n                ':' +\r\n                String(form.fecha_fin.getMinutes()).padStart(2, '0') +\r\n                ':00'\r\n                : form.fecha_fin.toISOString();\r\n\r\n        const { error } = await supabase.from('eleccions').update({\r\n            nombre: form.nombre,\r\n            descripcion: form.descripcion,\r\n            tipo_representacion: form.tipo_representacion,\r\n            fecha_inicio: fechaInicioStr,\r\n            fecha_fin: fechaFinStr,\r\n            estado: form.estado,\r\n        }).eq('id', form.id);\r\n\r\n        if (error) {\r\n            Alert.alert('Error', error.message);\r\n        } else {\r\n            setEditandoId(null);\r\n            setForm({});\r\n            cargarElecciones();\r\n            mostrarMensaje('✅ ¡Elección actualizada!');\r\n        }\r\n    };\r\n\r\n    const renderItem = ({ item }: { item: any }) => {\r\n        if (editandoId === item.id) {\r\n            return (\r\n                <View style={styles.cardEdit}>\r\n                    <Text style={styles.nombre}>Editar: {item.nombre}</Text>\r\n                    <TextInput\r\n                        style={styles.input}\r\n                        value={form.nombre}\r\n                        onChangeText={v => setForm({ ...form, nombre: v })}\r\n                        placeholder=\"Nombre\"\r\n                    />\r\n                    <TextInput\r\n                        style={[styles.input, { height: 60 }]}\r\n                        value={form.descripcion}\r\n                        onChangeText={v => setForm({ ...form, descripcion: v })}\r\n                        placeholder=\"Descripción\"\r\n                        multiline\r\n                    />\r\n                    <View style={styles.pickerContainer}>\r\n                        <Picker\r\n                            selectedValue={form.tipo_representacion}\r\n                            onValueChange={v => setForm({ ...form, tipo_representacion: v })}\r\n                            style={styles.picker}\r\n                            dropdownIconColor=\"#4361ee\"\r\n                        >\r\n                            <Picker.Item label=\"Facultad\" value=\"facultad\" />\r\n                            <Picker.Item label=\"Semestre\" value=\"semestre\" />\r\n                            <Picker.Item label=\"Comité\" value=\"comite\" />\r\n                        </Picker>\r\n                    </View>\r\n                    <Text style={styles.label}>Fecha de Inicio *</Text>\r\n                    {Platform.OS === 'web' ? (\r\n                        <input\r\n                            type=\"datetime-local\"\r\n                            style={{ ...styles.input, padding: 10, fontSize: 15 }}\r\n                            value={form.fecha_inicio ? new Date(form.fecha_inicio).toISOString().slice(0, 16) : ''}\r\n                            onChange={e => setForm({ ...form, fecha_inicio: e.target.value ? new Date(e.target.value) : null })}\r\n                        />\r\n                    ) : (\r\n                        <>\r\n                            <TouchableOpacity\r\n                                style={styles.input}\r\n                                onPress={() => setShowInicio(true)}\r\n                            >\r\n                                <Text style={{ color: form.fecha_inicio ? '#263159' : '#888' }}>\r\n                                    {form.fecha_inicio\r\n                                        ? new Date(form.fecha_inicio).toLocaleString()\r\n                                        : 'Selecciona fecha y hora de inicio'}\r\n                                </Text>\r\n                            </TouchableOpacity>\r\n                            {showInicio && (\r\n                                <DateTimePicker\r\n                                    value={form.fecha_inicio || new Date()}\r\n                                    mode=\"datetime\"\r\n                                    display=\"default\"\r\n                                    onChange={(_, date) => {\r\n                                        setShowInicio(false);\r\n                                        if (date) setForm({ ...form, fecha_inicio: date });\r\n                                    }}\r\n                                />\r\n                            )}\r\n                        </>\r\n                    )}\r\n                    <Text style={styles.label}>Fecha de Fin *</Text>\r\n                    {Platform.OS === 'web' ? (\r\n                        <input\r\n                            type=\"datetime-local\"\r\n                            style={{ ...styles.input, padding: 10, fontSize: 15 }}\r\n                            value={form.fecha_fin ? new Date(form.fecha_fin).toISOString().slice(0, 16) : ''}\r\n                            onChange={e => setForm({ ...form, fecha_fin: e.target.value ? new Date(e.target.value) : null })}\r\n                        />\r\n                    ) : (\r\n                        <>\r\n                            <TouchableOpacity\r\n                                style={styles.input}\r\n                                onPress={() => setShowFin(true)}\r\n                            >\r\n                                <Text style={{ color: form.fecha_fin ? '#263159' : '#888' }}>\r\n                                    {form.fecha_fin\r\n                                        ? new Date(form.fecha_fin).toLocaleString()\r\n                                        : 'Selecciona fecha y hora de fin'}\r\n                                </Text>\r\n                            </TouchableOpacity>\r\n                            {showFin && (\r\n                                <DateTimePicker\r\n                                    value={form.fecha_fin || new Date()}\r\n                                    mode=\"datetime\"\r\n                                    display=\"default\"\r\n                                    onChange={(_, date) => {\r\n                                        setShowFin(false);\r\n                                        if (date) setForm({ ...form, fecha_fin: date });\r\n                                    }}\r\n                                />\r\n                            )}\r\n                        </>\r\n                    )}\r\n                    <View style={styles.pickerContainer}>\r\n                        <Picker\r\n                            selectedValue={form.estado}\r\n                            onValueChange={v => setForm({ ...form, estado: v })}\r\n                            style={styles.picker}\r\n                            dropdownIconColor=\"#4361ee\"\r\n                        >\r\n                            <Picker.Item label=\"Activa\" value=\"activa\" />\r\n                            <Picker.Item label=\"Finalizada\" value=\"finalizada\" />\r\n                            <Picker.Item label=\"Programada\" value=\"programada\" />\r\n                        </Picker>\r\n                    </View>\r\n                    <View style={styles.actions}>\r\n                        <TouchableOpacity style={styles.btnEdit} onPress={handleGuardar}>\r\n                            <Ionicons name=\"save-outline\" size={18} color=\"#fff\" />\r\n                            <Text style={styles.btnText}>Guardar</Text>\r\n                        </TouchableOpacity>\r\n                        <TouchableOpacity style={styles.btnDelete} onPress={() => { setEditandoId(null); setForm({}); }}>\r\n                            <Ionicons name=\"close-outline\" size={18} color=\"#fff\" />\r\n                            <Text style={styles.btnText}>Cancelar</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                </View>\r\n            );\r\n        }\r\n        return (\r\n            <View style={styles.card}>\r\n                <View style={styles.headerRow}>\r\n                    <Ionicons name=\"checkbox-outline\" size={28} color=\"#343a40\" style={{ marginRight: 8 }} />\r\n                    <Text style={styles.nombre}>{item.nombre}</Text>\r\n                </View>\r\n                <Text style={styles.descripcion}>{item.descripcion}</Text>\r\n                <View style={styles.infoRow}>\r\n                    <Ionicons name=\"people-outline\" size={18} color=\"#4361ee\" />\r\n                    <Text style={styles.info}>Tipo: {item.tipo_representacion}</Text>\r\n                </View>\r\n                <View style={styles.infoRow}>\r\n                    <Ionicons name=\"calendar-outline\" size={18} color=\"#4361ee\" />\r\n                    <Text style={styles.info}>Inicio: {new Date(item.fecha_inicio).toLocaleString()}</Text>\r\n                </View>\r\n                <View style={styles.infoRow}>\r\n                    <Ionicons name=\"calendar-outline\" size={18} color=\"#ef476f\" />\r\n                    <Text style={styles.info}>Fin: {new Date(item.fecha_fin).toLocaleString()}</Text>\r\n                </View>\r\n                <View style={styles.infoRow}>\r\n                    <Ionicons name=\"information-circle-outline\" size={18} color=\"#ffd60a\" />\r\n                    <Text style={styles.info}>Estado: {item.estado}</Text>\r\n                </View>\r\n                <View style={styles.actions}>\r\n                    <TouchableOpacity\r\n                        style={styles.btnEdit}\r\n                        onPress={() => handleEditar(item)}\r\n                    >\r\n                        <Ionicons name=\"create-outline\" size={18} color=\"#fff\" />\r\n                        <Text style={styles.btnText}>Editar</Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity\r\n                        style={styles.btnDelete}\r\n                        onPress={() => handleEliminar(item.id)}\r\n                    >\r\n                        <Ionicons name=\"trash-outline\" size={18} color=\"#fff\" />\r\n                        <Text style={styles.btnText}>Eliminar</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n        );\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <View style={styles.centered}>\r\n                <ActivityIndicator size=\"large\" color=\"#4361ee\" />\r\n            </View>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <ImageBackground\r\n            source={require('../assets/fondo.png')}\r\n            style={styles.bg}\r\n            resizeMode=\"cover\"\r\n        >\r\n            <View style={styles.container}>\r\n                <Text style={styles.title}>🗳️ Elecciones Disponibles</Text>\r\n                {successMsg ? (\r\n                    <Animated.View style={[styles.successMsg, { opacity: fadeAnim }]}>\r\n                        <Text style={styles.successText}>{successMsg}</Text>\r\n                    </Animated.View>\r\n                ) : null}\r\n                <FlatList\r\n                    data={elecciones}\r\n                    keyExtractor={item => item.id.toString()}\r\n                    renderItem={renderItem}\r\n                    numColumns={2}\r\n                    ListEmptyComponent={\r\n                        <Text style={styles.emptyText}>\r\n                            No hay elecciones registradas.\r\n                        </Text>\r\n                    }\r\n                    contentContainerStyle={styles.flatListContent}\r\n                />\r\n            </View>\r\n        </ImageBackground>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    bg: {\r\n        flex: 1,\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n    container: {\r\n        flex: 1,\r\n        padding: 18,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    flatListContent: {\r\n        paddingBottom: 30,\r\n        paddingHorizontal: 4,\r\n        alignItems: 'flex-start',\r\n    },\r\n    title: {\r\n        fontSize: 30,\r\n        fontWeight: '800',\r\n        color: '#3434e6',\r\n        marginBottom: 24,\r\n        textAlign: 'center',\r\n        letterSpacing: 0.5,\r\n        textShadowColor: 'rgba(52,52,230,0.08)',\r\n        textShadowOffset: { width: 0, height: 2 },\r\n        textShadowRadius: 6,\r\n    },\r\n    card: {\r\n        backgroundColor: 'rgba(255,255,255,0.97)',\r\n        borderRadius: 18,\r\n        padding: 20,\r\n        marginBottom: 16,\r\n        marginHorizontal: 4,\r\n        shadowColor: '#4361ee',\r\n        shadowOffset: { width: 0, height: 8 },\r\n        shadowOpacity: 0.13,\r\n        shadowRadius: 18,\r\n        elevation: 7,\r\n        borderLeftWidth: 7,\r\n        borderLeftColor: '#4361ee',\r\n        width: '47%',\r\n        minWidth: 200,\r\n        maxWidth: 340,\r\n    },\r\n    cardEdit: {\r\n        backgroundColor: 'rgba(232,240,254,0.98)',\r\n        borderRadius: 18,\r\n        padding: 20,\r\n        marginBottom: 16,\r\n        marginHorizontal: 4,\r\n        borderLeftWidth: 7,\r\n        borderLeftColor: '#ffd60a',\r\n        shadowColor: '#ffd60a',\r\n        shadowOffset: { width: 0, height: 8 },\r\n        shadowOpacity: 0.13,\r\n        shadowRadius: 18,\r\n        elevation: 7,\r\n        width: '47%',\r\n        minWidth: 200,\r\n        maxWidth: 340,\r\n    },\r\n    headerRow: {\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        marginBottom: 8,\r\n    },\r\n    nombre: {\r\n        fontSize: 21,\r\n        fontWeight: '800',\r\n        color: '#343a40',\r\n        flex: 1,\r\n        flexWrap: 'wrap',\r\n    },\r\n    descripcion: {\r\n        color: '#555',\r\n        marginBottom: 10,\r\n        fontStyle: 'italic',\r\n        fontSize: 15,\r\n    },\r\n    infoRow: {\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        marginBottom: 3,\r\n    },\r\n    info: {\r\n        color: '#4361ee',\r\n        fontSize: 15,\r\n        marginLeft: 7,\r\n        fontWeight: '600',\r\n    },\r\n    actions: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'flex-end',\r\n        marginTop: 16,\r\n        gap: 8,\r\n    },\r\n    btnEdit: {\r\n        backgroundColor: '#4361ee',\r\n        borderRadius: 8,\r\n        paddingVertical: 10,\r\n        paddingHorizontal: 22,\r\n        marginRight: 6,\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        shadowColor: '#4361ee',\r\n        shadowOffset: { width: 0, height: 2 },\r\n        shadowOpacity: 0.13,\r\n        shadowRadius: 6,\r\n        elevation: 2,\r\n    },\r\n    btnDelete: {\r\n        backgroundColor: '#ef476f',\r\n        borderRadius: 8,\r\n        paddingVertical: 10,\r\n        paddingHorizontal: 22,\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        shadowColor: '#ef476f',\r\n        shadowOffset: { width: 0, height: 2 },\r\n        shadowOpacity: 0.13,\r\n        shadowRadius: 6,\r\n        elevation: 2,\r\n    },\r\n    btnText: {\r\n        color: '#fff',\r\n        fontWeight: '700',\r\n        fontSize: 16,\r\n        marginLeft: 8,\r\n    },\r\n    centered: {\r\n        flex: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    input: {\r\n        backgroundColor: '#f4f6fb',\r\n        padding: 14,\r\n        borderRadius: 10,\r\n        marginBottom: 10,\r\n        borderWidth: 1.5,\r\n        borderColor: '#ced4da',\r\n        fontSize: 16,\r\n        color: '#212529',\r\n        shadowColor: '#eaf1fb',\r\n        shadowOffset: { width: 0, height: 2 },\r\n        shadowOpacity: 0.08,\r\n        shadowRadius: 4,\r\n        elevation: 1,\r\n    },\r\n    pickerContainer: {\r\n        backgroundColor: '#f4f6fb',\r\n        borderRadius: 10,\r\n        borderWidth: 1.5,\r\n        borderColor: '#ced4da',\r\n        marginBottom: 10,\r\n        overflow: 'hidden',\r\n    },\r\n    picker: {\r\n        width: '100%',\r\n        height: 48,\r\n        color: '#263159',\r\n    },\r\n    label: {\r\n        fontWeight: '700',\r\n        fontSize: 15,\r\n        color: '#343a40',\r\n        marginBottom: 4,\r\n        marginTop: 10,\r\n    },\r\n    successMsg: {\r\n        backgroundColor: '#d1f7c4',\r\n        borderRadius: 10,\r\n        padding: 14,\r\n        marginBottom: 18,\r\n        alignItems: 'center',\r\n        borderWidth: 1,\r\n        borderColor: '#b6e6a7',\r\n    },\r\n    successText: {\r\n        color: '#218838',\r\n        fontWeight: '700',\r\n        fontSize: 16,\r\n        textAlign: 'center',\r\n    },\r\n    emptyText: {\r\n        textAlign: 'center',\r\n        marginTop: 40,\r\n        color: '#888',\r\n        fontSize: 16,\r\n        fontStyle: 'italic',\r\n    },\r\n});","import React, { useEffect, useState } from 'react';\r\nimport {\r\n    View,\r\n    Text,\r\n    StyleSheet,\r\n    TouchableOpacity,\r\n    TextInput,\r\n    ActivityIndicator,\r\n    Platform,\r\n    Alert,\r\n    FlatList,\r\n    ImageBackground,\r\n    ScrollView,\r\n} from 'react-native';\r\nimport { Ionicons, MaterialIcons } from '@expo/vector-icons';\r\nimport { Picker } from '@react-native-picker/picker';\r\nimport { supabase } from '../lib/supabase';\r\n\r\nexport default function AgregarCandidatoScreen() {\r\n    const [usuarios, setUsuarios] = useState<any[]>([]);\r\n    const [elecciones, setElecciones] = useState<any[]>([]);\r\n    const [candidaturas, setCandidaturas] = useState<any[]>([]);\r\n    const [selectedUser, setSelectedUser] = useState<string>('');\r\n    const [selectedEleccion, setSelectedEleccion] = useState<string>('');\r\n    const [propuesta, setPropuesta] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n    const [submitting, setSubmitting] = useState(false);\r\n\r\n    // Estados para edición\r\n    const [editandoId, setEditandoId] = useState<number | null>(null);\r\n\r\n    const cargarDatos = async () => {\r\n        setLoading(true);\r\n        const { data: users } = await supabase\r\n            .from('users')\r\n            .select('id, username, role')\r\n            .eq('role', 'CANDIDATO');\r\n        const { data: eleccions } = await supabase\r\n            .from('eleccions')\r\n            .select('id, nombre');\r\n        const { data: candidaturasData } = await supabase\r\n            .from('candidaturas')\r\n            .select('id, propuesta, userid, eleccionid');\r\n        setUsuarios(users || []);\r\n        setElecciones(eleccions || []);\r\n        setCandidaturas(candidaturasData || []);\r\n        setLoading(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        cargarDatos();\r\n    }, []);\r\n\r\n    // Agregar o actualizar candidatura\r\n    const handleAgregarOActualizar = async () => {\r\n        if (!selectedUser || !selectedEleccion || !propuesta.trim()) {\r\n            Alert.alert('Todos los campos son obligatorios');\r\n            return;\r\n        }\r\n\r\n        const userId = Number(selectedUser);\r\n        const eleccionId = Number(selectedEleccion);\r\n\r\n        if (isNaN(userId) || isNaN(eleccionId) || userId <= 0 || eleccionId <= 0) {\r\n            Alert.alert('Selecciona un candidato y una elección válidos');\r\n            return;\r\n        }\r\n\r\n        setSubmitting(true);\r\n\r\n        if (editandoId) {\r\n            // Actualizar candidatura existente\r\n            const { error } = await supabase\r\n                .from('candidaturas')\r\n                .update({ propuesta })\r\n                .eq('id', editandoId);\r\n\r\n            setSubmitting(false);\r\n\r\n            if (error) {\r\n                Alert.alert('Error', 'No se pudo actualizar la candidatura.');\r\n            } else {\r\n                Alert.alert('Éxito', 'Candidatura actualizada');\r\n                limpiarFormulario();\r\n                cargarDatos();\r\n            }\r\n        } else {\r\n            // Verifica si ya existe la candidatura\r\n            const { data: existente } = await supabase\r\n                .from('candidaturas')\r\n                .select('id')\r\n                .eq('userid', userId)\r\n                .eq('eleccionid', eleccionId)\r\n                .maybeSingle();\r\n\r\n            if (existente) {\r\n                setSubmitting(false);\r\n                Alert.alert('Este candidato ya está asignado a esta elección');\r\n                return;\r\n            }\r\n\r\n            // Insertar nueva candidatura\r\n            const dataToInsert = {\r\n                propuesta,\r\n                userid: userId,\r\n                eleccionid: eleccionId,\r\n            };\r\n\r\n            const { error } = await supabase.from('candidaturas').insert([dataToInsert]);\r\n\r\n            setSubmitting(false);\r\n\r\n            if (error) {\r\n                Alert.alert('Error', 'No se pudo registrar la candidatura. Intenta nuevamente.');\r\n            } else {\r\n                Alert.alert('Éxito', 'Candidato asignado a la elección');\r\n                limpiarFormulario();\r\n                cargarDatos();\r\n            }\r\n        }\r\n    };\r\n\r\n    // Cargar datos de la candidatura al editar\r\n    const iniciarEdicion = (item: any) => {\r\n        setEditandoId(item.id);\r\n        setSelectedUser(item.userid.toString());\r\n        setSelectedEleccion(item.eleccionid.toString());\r\n        setPropuesta(item.propuesta);\r\n    };\r\n\r\n    // Cancelar edición o limpiar formulario\r\n    const limpiarFormulario = () => {\r\n        setEditandoId(null);\r\n        setPropuesta('');\r\n        setSelectedUser('');\r\n        setSelectedEleccion('');\r\n    };\r\n\r\n    // Eliminar candidatura\r\n    const handleEliminar = async (id: number) => {\r\n        if (Platform.OS === 'web') {\r\n            if (window.confirm('¿Estás seguro de que deseas eliminar esta candidatura?')) {\r\n                const { error } = await supabase.from('candidaturas').delete().eq('id', id);\r\n                if (error) {\r\n                    Alert.alert('Error', 'No se pudo eliminar la candidatura.');\r\n                } else {\r\n                    Alert.alert('Eliminado', 'Candidatura eliminada correctamente.');\r\n                    cargarDatos();\r\n                }\r\n            }\r\n        } else {\r\n            Alert.alert(\r\n                'Eliminar candidatura',\r\n                '¿Estás seguro de que deseas eliminar esta candidatura?',\r\n                [\r\n                    { text: 'Cancelar', style: 'cancel' },\r\n                    {\r\n                        text: 'Eliminar',\r\n                        style: 'destructive',\r\n                        onPress: async () => {\r\n                            const { error } = await supabase.from('candidaturas').delete().eq('id', id);\r\n                            if (error) {\r\n                                Alert.alert('Error', 'No se pudo eliminar la candidatura.');\r\n                            } else {\r\n                                Alert.alert('Eliminado', 'Candidatura eliminada correctamente.');\r\n                                cargarDatos();\r\n                            }\r\n                        },\r\n                    },\r\n                ]\r\n            );\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <View style={styles.centered}>\r\n                <ActivityIndicator size=\"large\" color=\"#0d6efd\" />\r\n            </View>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <ImageBackground\r\n            source={require('../assets/fondo.png')}\r\n            style={styles.bg}\r\n            resizeMode=\"cover\"\r\n        >\r\n            <ScrollView contentContainerStyle={{ flexGrow: 1 }}>\r\n                <View style={styles.container}>\r\n                    <Text style={styles.title}>\r\n                        {editandoId ? 'Editar Candidatura' : 'Asignar Candidato a Elección'}\r\n                    </Text>\r\n                    <View style={styles.formCard}>\r\n                        <Text style={styles.label}>Selecciona un candidato:</Text>\r\n                        <View style={styles.pickerContainer}>\r\n                            <Picker\r\n                                selectedValue={selectedUser}\r\n                                onValueChange={setSelectedUser}\r\n                                style={styles.picker}\r\n                                enabled={!editandoId}\r\n                            >\r\n                                <Picker.Item label=\"Selecciona un candidato\" value=\"\" />\r\n                                {usuarios.map((user: any) => (\r\n                                    <Picker.Item key={user.id} label={user.username} value={user.id.toString()} />\r\n                                ))}\r\n                            </Picker>\r\n                        </View>\r\n                        <Text style={styles.label}>Selecciona una elección:</Text>\r\n                        <View style={styles.pickerContainer}>\r\n                            <Picker\r\n                                selectedValue={selectedEleccion}\r\n                                onValueChange={setSelectedEleccion}\r\n                                style={styles.picker}\r\n                                enabled={!editandoId}\r\n                            >\r\n                                <Picker.Item label=\"Selecciona una elección\" value=\"\" />\r\n                                {elecciones.map((eleccion: any) => (\r\n                                    <Picker.Item key={eleccion.id} label={eleccion.nombre} value={eleccion.id.toString()} />\r\n                                ))}\r\n                            </Picker>\r\n                        </View>\r\n                        <Text style={styles.label}>Propuesta del candidato:</Text>\r\n                        <TextInput\r\n                            style={styles.input}\r\n                            placeholder=\"Escribe la propuesta\"\r\n                            value={propuesta}\r\n                            onChangeText={setPropuesta}\r\n                            multiline\r\n                        />\r\n                        <View style={{ flexDirection: 'row', marginTop: 8 }}>\r\n                            <TouchableOpacity\r\n                                style={[\r\n                                    styles.btnAgregar,\r\n                                    { backgroundColor: editandoId ? '#198754' : '#0d6efd' },\r\n                                ]}\r\n                                onPress={handleAgregarOActualizar}\r\n                                disabled={submitting}\r\n                            >\r\n                                {editandoId ? (\r\n                                    <MaterialIcons name=\"check\" size={20} color=\"#fff\" />\r\n                                ) : (\r\n                                    <Ionicons name=\"person-add-outline\" size={20} color=\"#fff\" />\r\n                                )}\r\n                                <Text style={styles.btnAgregarText}>\r\n                                    {submitting\r\n                                        ? editandoId\r\n                                            ? 'Actualizando...'\r\n                                            : 'Agregando...'\r\n                                        : editandoId\r\n                                        ? 'Actualizar'\r\n                                        : 'Asignar candidato'}\r\n                                </Text>\r\n                            </TouchableOpacity>\r\n                            {editandoId && (\r\n                                <TouchableOpacity\r\n                                    style={[\r\n                                        styles.btnAgregar,\r\n                                        { backgroundColor: '#dc3545', marginLeft: 8 },\r\n                                    ]}\r\n                                    onPress={limpiarFormulario}\r\n                                >\r\n                                    <MaterialIcons name=\"close\" size={20} color=\"#fff\" />\r\n                                    <Text style={styles.btnAgregarText}>Cancelar</Text>\r\n                                </TouchableOpacity>\r\n                            )}\r\n                        </View>\r\n                    </View>\r\n\r\n                    <Text style={[styles.title, { fontSize: 20, marginTop: 24 }]}>\r\n                        Candidaturas registradas\r\n                    </Text>\r\n                    {candidaturas.length === 0 ? (\r\n                        <Text\r\n                            style={{\r\n                                textAlign: 'center',\r\n                                marginTop: 12,\r\n                                color: '#888',\r\n                            }}\r\n                        >\r\n                            No hay candidaturas registradas.\r\n                        </Text>\r\n                    ) : (\r\n                        candidaturas.map((item) => {\r\n                            const usuario = usuarios.find(u => u.id === item.userid);\r\n                            const eleccion = elecciones.find(e => e.id === item.eleccionid);\r\n\r\n                            return (\r\n                                <View style={styles.candidaturaCard} key={item.id}>\r\n                                    <Text style={{ color: '#495057', fontSize: 13, marginBottom: 4 }}>\r\n                                        Candidato:{' '}\r\n                                        <Text style={{ fontWeight: 'bold' }}>\r\n                                            {usuario ? usuario.username : 'Desconocido'}\r\n                                        </Text>{' '}\r\n                                        | Elección:{' '}\r\n                                        <Text style={{ fontWeight: 'bold' }}>\r\n                                            {eleccion ? eleccion.nombre : 'Desconocida'}\r\n                                        </Text>\r\n                                    </Text>\r\n                                    <Text style={{ fontWeight: 'bold', color: '#0d6efd' }}>\r\n                                        Propuesta:\r\n                                    </Text>\r\n                                    <Text>{item.propuesta}</Text>\r\n                                    <View\r\n                                        style={{\r\n                                            flexDirection: 'row',\r\n                                            marginTop: 8,\r\n                                            justifyContent: 'flex-end',\r\n                                        }}\r\n                                    >\r\n                                        <TouchableOpacity\r\n                                            style={[\r\n                                                styles.actionBtn,\r\n                                                { backgroundColor: '#0d6efd' },\r\n                                            ]}\r\n                                            onPress={() => iniciarEdicion(item)}\r\n                                        >\r\n                                            <MaterialIcons name=\"edit\" size={18} color=\"#fff\" />\r\n                                        </TouchableOpacity>\r\n                                        <TouchableOpacity\r\n                                            style={[\r\n                                                styles.actionBtn,\r\n                                                { backgroundColor: '#dc3545', marginLeft: 8 },\r\n                                            ]}\r\n                                            onPress={() => handleEliminar(item.id)}\r\n                                        >\r\n                                            <MaterialIcons name=\"delete\" size={18} color=\"#fff\" />\r\n                                        </TouchableOpacity>\r\n                                    </View>\r\n                                </View>\r\n                            );\r\n                        })\r\n                    )}\r\n                </View>\r\n            </ScrollView>\r\n        </ImageBackground>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    bg: {\r\n        flex: 1,\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n    container: {\r\n        padding: 18,\r\n        backgroundColor: 'transparent',\r\n    },\r\n    formCard: {\r\n        backgroundColor: '#fff',\r\n        borderRadius: 12,\r\n        padding: 18,\r\n        marginBottom: 18,\r\n        shadowColor: '#000',\r\n        shadowOffset: { width: 0, height: 2 },\r\n        shadowOpacity: 0.07,\r\n        shadowRadius: 6,\r\n        elevation: 3,\r\n    },\r\n    title: {\r\n        fontSize: 24,\r\n        fontWeight: '700',\r\n        color: '#0d6efd',\r\n        marginBottom: 18,\r\n        textAlign: 'center',\r\n    },\r\n    label: {\r\n        fontWeight: '700',\r\n        fontSize: 15,\r\n        color: '#2c3e50',\r\n        marginBottom: 6,\r\n        marginTop: 8,\r\n    },\r\n    pickerContainer: {\r\n        backgroundColor: '#f8f9fa',\r\n        borderRadius: 8,\r\n        borderWidth: 1.2,\r\n        borderColor: '#ced4da',\r\n        marginBottom: 12,\r\n        overflow: 'hidden',\r\n    },\r\n    picker: {\r\n        width: '100%',\r\n        height: 48,\r\n        color: '#2c3e50',\r\n    },\r\n    input: {\r\n        backgroundColor: '#f8f9fa',\r\n        padding: 12,\r\n        borderRadius: 8,\r\n        borderWidth: 1.2,\r\n        borderColor: '#ced4da',\r\n        fontSize: 15,\r\n        color: '#2c3e50',\r\n        marginBottom: 16,\r\n        marginTop: 4,\r\n        minHeight: 60,\r\n        textAlignVertical: 'top',\r\n    },\r\n    btnAgregar: {\r\n        backgroundColor: '#0d6efd',\r\n        borderRadius: 8,\r\n        paddingVertical: 12,\r\n        paddingHorizontal: 18,\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        shadowColor: '#0d6efd',\r\n        shadowOffset: { width: 0, height: 2 },\r\n        shadowOpacity: 0.10,\r\n        shadowRadius: 4,\r\n        elevation: 2,\r\n        marginTop: 10,\r\n    },\r\n    btnAgregarText: {\r\n        color: '#fff',\r\n        fontWeight: '700',\r\n        fontSize: 16,\r\n        marginLeft: 8,\r\n    },\r\n    candidaturaCard: {\r\n        backgroundColor: '#fff',\r\n        borderRadius: 10,\r\n        padding: 14,\r\n        marginBottom: 10,\r\n        shadowColor: '#0d6efd',\r\n        shadowOffset: { width: 0, height: 1 },\r\n        shadowOpacity: 0.06,\r\n        shadowRadius: 2,\r\n        elevation: 1,\r\n    },\r\n    actionBtn: {\r\n        padding: 8,\r\n        borderRadius: 6,\r\n    },\r\n    centered: {\r\n        flex: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n});","import React, { useEffect, useState } from 'react';\r\nimport {\r\n    View,\r\n    Text,\r\n    FlatList,\r\n    ActivityIndicator,\r\n    StyleSheet,\r\n    TouchableOpacity,\r\n    Alert,\r\n    Modal,\r\n    Pressable,\r\n    ScrollView,\r\n    ImageBackground\r\n} from 'react-native';\r\nimport { supabase } from '../lib/supabase';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nexport default function AgregarVotacionScreen() {\r\n    const [elecciones, setElecciones] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [eleccionSeleccionada, setEleccionSeleccionada] = useState<any>(null);\r\n    const [candidaturas, setCandidaturas] = useState<any[]>([]);\r\n    const [candidaturaSeleccionada, setCandidaturaSeleccionada] = useState<any>(null);\r\n    const [votando, setVotando] = useState(false);\r\n\r\n    // Solo se puede votar en una elección en todo el sistema\r\n    const [yaVotoEnAlguna, setYaVotoEnAlguna] = useState(false);\r\n\r\n    const [userid, setUserId] = useState<number | null>(null);\r\n    const navigation = useNavigation();\r\n\r\n    useEffect(() => {\r\n        AsyncStorage.getItem('usuario').then((json: string | null) => {\r\n            if (json) {\r\n                const usuario = JSON.parse(json);\r\n                setUserId(usuario.id);\r\n                verificarSiYaVotoEnAlguna(usuario.id);\r\n            }\r\n        });\r\n        cargarElecciones();\r\n    }, []);\r\n\r\n    // Solo cargar elecciones activas\r\n    const cargarElecciones = async () => {\r\n        setLoading(true);\r\n        const { data, error } = await supabase\r\n            .from('eleccions')\r\n            .select('*')\r\n            .eq('estado', 'activa')\r\n            .order('fecha_inicio', { ascending: false });\r\n        if (!error) setElecciones(data || []);\r\n        setLoading(false);\r\n    };\r\n\r\n    // Cargar solo candidaturas activas (requiere campo estado en candidaturas)\r\n    const cargarCandidaturas = async (eleccionId: number) => {\r\n        const { data, error } = await supabase\r\n            .from('candidaturas')\r\n            .select('id, propuesta, userid, users(username)')\r\n            .eq('eleccionid', eleccionId);\r\n        // Si tu tabla candidaturas NO tiene campo estado, elimina el filtro\r\n        if (!error) setCandidaturas(data || []);\r\n        else setCandidaturas([]);\r\n    };\r\n\r\n    // Verifica si el usuario ya votó en alguna elección\r\n    const verificarSiYaVotoEnAlguna = async (userId: number) => {\r\n        const { data } = await supabase\r\n            .from('votos')\r\n            .select('id')\r\n            .eq('userid', userId)\r\n            .maybeSingle();\r\n        setYaVotoEnAlguna(!!data);\r\n    };\r\n\r\n    // Solo permite votar si la elección está activa\r\n    const handleSeleccion = async (eleccion: any) => {\r\n        if (eleccion.estado !== 'activa') {\r\n            Alert.alert('No disponible', 'Solo puedes votar en elecciones activas.');\r\n            return;\r\n        }\r\n        setEleccionSeleccionada(eleccion);\r\n        setCandidaturaSeleccionada(null);\r\n        if (!yaVotoEnAlguna) {\r\n            await cargarCandidaturas(eleccion.id);\r\n        }\r\n        setModalVisible(true);\r\n    };\r\n\r\n    const guardarVoto = async () => {\r\n        if (yaVotoEnAlguna) {\r\n            return;\r\n        }\r\n        if (!userid) {\r\n            Alert.alert('Error', 'No se encontró el usuario en sesión');\r\n            return;\r\n        }\r\n        if (!eleccionSeleccionada || !eleccionSeleccionada.id) {\r\n            Alert.alert('Error', 'No se seleccionó una elección');\r\n            return;\r\n        }\r\n        if (!candidaturaSeleccionada || !candidaturaSeleccionada.id) {\r\n            Alert.alert('Error', 'Debes seleccionar una candidatura');\r\n            return;\r\n        }\r\n\r\n        setVotando(true);\r\n        const { error } = await supabase.from('votos').insert([\r\n            {\r\n                userid,\r\n                eleccionid: eleccionSeleccionada.id,\r\n                candidaturaid: candidaturaSeleccionada.id,\r\n            },\r\n        ]);\r\n        setVotando(false);\r\n\r\n        if (error) {\r\n            Alert.alert('Error', 'No se pudo guardar el voto');\r\n        } else {\r\n            Alert.alert('Éxito', '¡Voto guardado!');\r\n            setYaVotoEnAlguna(true);\r\n            setModalVisible(false);\r\n            setCandidaturaSeleccionada(null);\r\n            setEleccionSeleccionada(null);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <View style={styles.center}>\r\n                <ActivityIndicator size=\"large\" color=\"#4361ee\" />\r\n                <Text style={styles.loadingText}>Cargando elecciones...</Text>\r\n            </View>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <ImageBackground\r\n            source={require('../assets/fondo.png')}\r\n            style={styles.bg}\r\n            resizeMode=\"cover\"\r\n        >\r\n            <ScrollView contentContainerStyle={styles.scrollContainer}>\r\n                <View style={styles.dashboardContainer}>\r\n                    <View style={styles.logoContainer}>\r\n                        <Ionicons name=\"school\" size={64} color=\"#3498db\" />\r\n                    </View>\r\n                    <Text style={styles.title}>Votaciones Disponibles</Text>\r\n                    <Text style={styles.subtitle}>Total elecciones: {elecciones.length}</Text>\r\n                    <FlatList\r\n                        data={elecciones}\r\n                        keyExtractor={(item) => item.id.toString()}\r\n                        renderItem={({ item }) => (\r\n                            <TouchableOpacity\r\n                                onPress={() => handleSeleccion(item)}\r\n                                style={[\r\n                                    styles.touchable,\r\n                                    yaVotoEnAlguna && { opacity: 0.6 }\r\n                                ]}\r\n                                disabled={yaVotoEnAlguna}\r\n                            >\r\n                                <View style={styles.card}>\r\n                                    <Text style={styles.eleccion}>\r\n                                        <Ionicons name=\"balloon-outline\" size={20} color=\"#3a0ca3\" /> {item.nombre || 'Sin nombre'}\r\n                                    </Text>\r\n                                    <Text style={styles.descripcion}>{item.descripcion || 'Sin descripción'}</Text>\r\n                                    <Text style={styles.info}>Tipo: <Text style={styles.infoValue}>{item.tipo_representacion}</Text></Text>\r\n                                    <Text style={styles.info}>Estado: <Text style={styles.infoValue}>{item.estado}</Text></Text>\r\n                                </View>\r\n                            </TouchableOpacity>\r\n                        )}\r\n                        ItemSeparatorComponent={() => <View style={styles.separator} />}\r\n                        ListEmptyComponent={<Text style={styles.emptyText}>No hay elecciones disponibles.</Text>}\r\n                        style={{ width: '100%' }}\r\n                    />\r\n\r\n                    {/* Modal para votar */}\r\n                    <Modal\r\n                        visible={modalVisible}\r\n                        transparent\r\n                        animationType=\"fade\"\r\n                        onRequestClose={() => setModalVisible(false)}\r\n                    >\r\n                        <View style={styles.modalOverlay}>\r\n                            <View style={styles.modalContent}>\r\n                                <Text style={styles.modalTitle}>\r\n                                    <Ionicons name=\"balloon-outline\" size={22} color=\"#4361ee\" /> Votar en: <Text style={{ color: '#4361ee' }}>{eleccionSeleccionada?.nombre}</Text>\r\n                                </Text>\r\n                                {yaVotoEnAlguna ? (\r\n                                    <>\r\n                                        <Text style={{ color: '#e74c3c', fontWeight: 'bold', marginVertical: 20, textAlign: 'center' }}>\r\n                                            Ya has votado en una elección. Solo puedes votar una vez.\r\n                                        </Text>\r\n                                        <View style={styles.modalBtnRow}>\r\n                                            <TouchableOpacity\r\n                                                style={styles.btnCancel}\r\n                                                onPress={() => {\r\n                                                    setModalVisible(false);\r\n                                                    navigation.goBack();\r\n                                                }}\r\n                                            >\r\n                                                <Text style={styles.btnCancelText}>Volver al panel</Text>\r\n                                            </TouchableOpacity>\r\n                                        </View>\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        <Text style={styles.modalSubtitle}>Selecciona una candidatura:</Text>\r\n                                        <ScrollView style={{ maxHeight: 200, width: '100%', marginTop: 10 }}>\r\n                                            {candidaturas.length === 0 && (\r\n                                                <Text style={{ color: '#888', textAlign: 'center' }}>No hay candidaturas disponibles.</Text>\r\n                                            )}\r\n                                            {candidaturas.map((cand: any) => (\r\n                                                <Pressable\r\n                                                    key={cand.id}\r\n                                                    onPress={() => setCandidaturaSeleccionada(cand)}\r\n                                                    style={[\r\n                                                        styles.candidaturaItem,\r\n                                                        candidaturaSeleccionada?.id === cand.id && styles.candidaturaItemSelected\r\n                                                    ]}\r\n                                                >\r\n                                                    <Text style={{\r\n                                                        color: candidaturaSeleccionada?.id === cand.id ? '#fff' : '#22223b',\r\n                                                        fontWeight: 'bold'\r\n                                                    }}>\r\n                                                        {cand.users?.username || 'Candidato desconocido'}\r\n                                                    </Text>\r\n                                                    <Text style={{\r\n                                                        color: candidaturaSeleccionada?.id === cand.id ? '#fff' : '#555',\r\n                                                        fontSize: 13,\r\n                                                        marginTop: 2\r\n                                                    }}>\r\n                                                        {cand.propuesta}\r\n                                                    </Text>\r\n                                                </Pressable>\r\n                                            ))}\r\n                                        </ScrollView>\r\n                                        <View style={styles.modalBtnRow}>\r\n                                            <TouchableOpacity style={styles.btnCancel} onPress={() => setModalVisible(false)}>\r\n                                                <Text style={styles.btnCancelText}>Cancelar</Text>\r\n                                            </TouchableOpacity>\r\n                                            <TouchableOpacity\r\n                                                style={[\r\n                                                    styles.btnVotar,\r\n                                                    (!candidaturaSeleccionada || votando) && { opacity: 0.6 }\r\n                                                ]}\r\n                                                onPress={guardarVoto}\r\n                                                disabled={!candidaturaSeleccionada || votando}\r\n                                            >\r\n                                                <Text style={styles.btnVotarText}>{votando ? \"Guardando...\" : \"Votar\"}</Text>\r\n                                            </TouchableOpacity>\r\n                                        </View>\r\n                                    </>\r\n                                )}\r\n                            </View>\r\n                        </View>\r\n                    </Modal>\r\n                </View>\r\n            </ScrollView>\r\n        </ImageBackground>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    bg: {\r\n        flex: 1,\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n    scrollContainer: {\r\n        flexGrow: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        paddingVertical: 32,\r\n    },\r\n    dashboardContainer: {\r\n        width: '98%',\r\n        maxWidth: 500,\r\n        backgroundColor: '#fff',\r\n        padding: 28,\r\n        borderRadius: 20,\r\n        borderWidth: 1,\r\n        borderColor: 'rgba(0,0,0,0.04)',\r\n        shadowColor: '#2c3e50',\r\n        shadowOffset: { width: 0, height: 8 },\r\n        shadowOpacity: 0.10,\r\n        shadowRadius: 24,\r\n        elevation: 10,\r\n        alignItems: 'center',\r\n    },\r\n    logoContainer: {\r\n        backgroundColor: '#ecf0f1',\r\n        borderRadius: 60,\r\n        width: 90,\r\n        height: 90,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        marginBottom: 10,\r\n        borderWidth: 2,\r\n        borderColor: '#fff',\r\n        shadowColor: '#3498db',\r\n        shadowOpacity: 0.10,\r\n        shadowRadius: 8,\r\n        elevation: 4,\r\n    },\r\n    title: {\r\n        color: '#3a0ca3',\r\n        fontWeight: '700',\r\n        fontSize: 24,\r\n        marginBottom: 6,\r\n        letterSpacing: 0.5,\r\n        textAlign: 'center',\r\n    },\r\n    subtitle: {\r\n        fontSize: 15,\r\n        color: '#666',\r\n        marginBottom: 18,\r\n        textAlign: 'center',\r\n    },\r\n    touchable: {\r\n        borderRadius: 14,\r\n        overflow: 'hidden',\r\n        marginBottom: 8,\r\n    },\r\n    card: {\r\n        backgroundColor: '#f7fafd',\r\n        padding: 18,\r\n        borderRadius: 14,\r\n        shadowColor: '#4361ee',\r\n        shadowOpacity: 0.08,\r\n        shadowOffset: { width: 0, height: 2 },\r\n        shadowRadius: 6,\r\n        elevation: 2,\r\n        borderLeftWidth: 5,\r\n        borderLeftColor: '#4361ee',\r\n    },\r\n    eleccion: {\r\n        fontSize: 18,\r\n        fontWeight: 'bold',\r\n        color: '#3a0ca3',\r\n        marginBottom: 4,\r\n    },\r\n    descripcion: {\r\n        fontSize: 15,\r\n        color: '#22223b',\r\n        marginBottom: 4,\r\n    },\r\n    info: {\r\n        fontSize: 14,\r\n        color: '#555',\r\n        marginTop: 2,\r\n    },\r\n    infoValue: {\r\n        fontWeight: 'bold',\r\n        color: '#4361ee',\r\n    },\r\n    separator: {\r\n        height: 10,\r\n    },\r\n    emptyText: {\r\n        fontSize: 16,\r\n        color: '#888',\r\n        textAlign: 'center',\r\n        marginTop: 20,\r\n    },\r\n    modalOverlay: {\r\n        flex: 1,\r\n        backgroundColor: 'rgba(0,0,0,0.25)',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    modalContent: {\r\n        backgroundColor: '#fff',\r\n        padding: 26,\r\n        borderRadius: 18,\r\n        width: '90%',\r\n        alignItems: 'center',\r\n        shadowColor: '#4361ee',\r\n        shadowOpacity: 0.13,\r\n        shadowOffset: { width: 0, height: 4 },\r\n        shadowRadius: 12,\r\n        elevation: 8,\r\n    },\r\n    modalTitle: {\r\n        fontWeight: 'bold',\r\n        fontSize: 20,\r\n        marginBottom: 10,\r\n        color: '#3a0ca3',\r\n        textAlign: 'center',\r\n    },\r\n    modalSubtitle: {\r\n        fontSize: 15,\r\n        color: '#22223b',\r\n        marginBottom: 8,\r\n        textAlign: 'center',\r\n    },\r\n    candidaturaItem: {\r\n        padding: 12,\r\n        borderRadius: 8,\r\n        backgroundColor: '#eaf1ff',\r\n        marginBottom: 8,\r\n        alignItems: 'flex-start',\r\n        borderLeftWidth: 4,\r\n        borderLeftColor: '#3a0ca3',\r\n    },\r\n    candidaturaItemSelected: {\r\n        backgroundColor: '#4361ee',\r\n        borderLeftColor: '#3a0ca3',\r\n    },\r\n    modalBtnRow: {\r\n        flexDirection: 'row',\r\n        gap: 14,\r\n        marginTop: 18,\r\n        width: '100%',\r\n        justifyContent: 'center',\r\n    },\r\n    btnCancel: {\r\n        backgroundColor: '#e3e7ef',\r\n        paddingVertical: 12,\r\n        paddingHorizontal: 28,\r\n        borderRadius: 10,\r\n        alignItems: 'center',\r\n        minWidth: 100,\r\n    },\r\n    btnCancelText: {\r\n        color: '#3a0ca3',\r\n        fontWeight: 'bold',\r\n        fontSize: 16,\r\n    },\r\n    btnVotar: {\r\n        backgroundColor: '#4361ee',\r\n        paddingVertical: 12,\r\n        paddingHorizontal: 28,\r\n        borderRadius: 10,\r\n        alignItems: 'center',\r\n        minWidth: 100,\r\n    },\r\n    btnVotarText: {\r\n        color: '#fff',\r\n        fontWeight: 'bold',\r\n        fontSize: 16,\r\n    },\r\n    center: {\r\n        flex: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    loadingText: {\r\n        marginTop: 10,\r\n        fontSize: 16,\r\n        color: '#555',\r\n    },\r\n});","import React, { useEffect, useState } from 'react';\r\nimport {\r\n    View, Text, ActivityIndicator, StyleSheet,\r\n    ScrollView, TouchableOpacity, Modal, ImageBackground\r\n} from 'react-native';\r\nimport { supabase } from '../lib/supabase';\r\n\r\nexport default function ResultadosVotacionesScreen() {\r\n    const [resultados, setResultados] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [eleccionModal, setEleccionModal] = useState<any>(null);\r\n\r\n    useEffect(() => {\r\n        cargarResultados();\r\n    }, []);\r\n\r\n    const cargarResultados = async () => {\r\n        setLoading(true);\r\n        const { data, error } = await supabase\r\n            .from('votos')\r\n            .select(`\r\n                eleccionid,\r\n                eleccions(nombre),\r\n                candidaturaid,\r\n                candidaturas(propuesta, users(username))\r\n            `);\r\n\r\n        if (!error && data) {\r\n            const conteo = data.reduce((acc: any, curr: any) => {\r\n                const key = `${curr.eleccionid}-${curr.candidaturaid}`;\r\n                if (!acc[key]) {\r\n                    acc[key] = { ...curr, count: 1 };\r\n                } else {\r\n                    acc[key].count += 1;\r\n                }\r\n                return acc;\r\n            }, {});\r\n            setResultados(Object.values(conteo));\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    // Agrupados por elección\r\n    const agrupados = resultados.reduce((acc, curr) => {\r\n        const key = curr.eleccionid;\r\n        if (!acc[key]) acc[key] = { nombre: curr.eleccions?.nombre, resultados: [] };\r\n        acc[key].resultados.push(curr);\r\n        return acc;\r\n    }, {} as Record<string, any>);\r\n\r\n    // Estadísticas generales\r\n    const totalVotosGlobal = resultados.reduce((sum, r) => sum + r.count, 0);\r\n    const totalElecciones = Object.keys(agrupados).length;\r\n    const totalCandidaturas = resultados.length;\r\n\r\n    const abrirModal = (eleccion: any) => {\r\n        setEleccionModal(eleccion);\r\n        setModalVisible(true);\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <View style={styles.center}>\r\n                <ActivityIndicator size=\"large\" color=\"#4361ee\" />\r\n                <Text style={styles.loadingText}>Cargando resultados...</Text>\r\n            </View>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <ImageBackground\r\n            source={require('../assets/fondo.png')}\r\n            style={styles.bg}\r\n            resizeMode=\"cover\"\r\n        >\r\n            <View style={styles.overlay}>\r\n                <Text style={styles.title}>Resultados de Votaciones</Text>\r\n\r\n                {/* Estadísticas generales */}\r\n                <View style={styles.statsContainer}>\r\n                    <Text style={styles.statsText}>Total de votos: <Text style={styles.statsValue}>{totalVotosGlobal}</Text></Text>\r\n                    <Text style={styles.statsText}>Total de elecciones: <Text style={styles.statsValue}>{totalElecciones}</Text></Text>\r\n                    <Text style={styles.statsText}>Total de candidaturas: <Text style={styles.statsValue}>{totalCandidaturas}</Text></Text>\r\n                </View>\r\n\r\n                {Object.values(agrupados).length === 0 && (\r\n                    <Text style={styles.emptyText}>No hay votos registrados.</Text>\r\n                )}\r\n                <ScrollView showsVerticalScrollIndicator={false}>\r\n                    {Object.values(agrupados).map((eleccion: any, idx: number) => {\r\n                        const totalVotos = eleccion.resultados.reduce((sum: number, r: any) => sum + r.count, 0);\r\n                        return (\r\n                            <TouchableOpacity\r\n                                key={idx}\r\n                                style={styles.eleccionCard}\r\n                                onPress={() => abrirModal(eleccion)}\r\n                                activeOpacity={0.93}\r\n                            >\r\n                                <Text style={styles.eleccionNombre}>{eleccion.nombre}</Text>\r\n                                <View style={styles.barChartContainer}>\r\n                                    {eleccion.resultados.map((res: any, i: number) => {\r\n                                        const porcentajeLocal = totalVotos > 0 ? ((res.count / totalVotos) * 100) : 0;\r\n                                        const porcentajeGlobal = totalVotosGlobal > 0 ? ((res.count / totalVotosGlobal) * 100) : 0;\r\n                                        return (\r\n                                            <View key={res.candidaturaid} style={{ marginBottom: 18 }}>\r\n                                                <View style={styles.barRow}>\r\n                                                    <View style={styles.barLabelContainer}>\r\n                                                        <Text style={styles.barLabel}>\r\n                                                            {res.candidaturas?.users?.username || 'Candidato desconocido'}\r\n                                                        </Text>\r\n                                                    </View>\r\n                                                    <View style={styles.barWrapper}>\r\n                                                        <View style={[\r\n                                                            styles.bar,\r\n                                                            { width: `${porcentajeLocal}%`, backgroundColor: barColors[i % barColors.length] }\r\n                                                        ]} />\r\n                                                    </View>\r\n                                                </View>\r\n                                                <View style={styles.barInfoRow}>\r\n                                                    <Text style={styles.barValue}>\r\n                                                        {res.count} votos\r\n                                                    </Text>\r\n                                                    <Text style={styles.barPercent}>\r\n                                                        {porcentajeLocal.toFixed(1)}% elección / {porcentajeGlobal.toFixed(1)}% total\r\n                                                    </Text>\r\n                                                </View>\r\n                                            </View>\r\n                                        );\r\n                                    })}\r\n                                </View>\r\n                                <Text style={styles.totalVotosSmall}>\r\n                                    Total de votos: {totalVotos}\r\n                                </Text>\r\n                            </TouchableOpacity>\r\n                        );\r\n                    })}\r\n                </ScrollView>\r\n\r\n                {/* Modal detallado */}\r\n                <Modal\r\n                    visible={modalVisible}\r\n                    transparent\r\n                    animationType=\"fade\"\r\n                    onRequestClose={() => setModalVisible(false)}\r\n                >\r\n                    <View style={styles.modalOverlay}>\r\n                        <View style={styles.modalContent}>\r\n                            <Text style={styles.modalTitle}>\r\n                                Estadísticas de: <Text style={{ color: '#4361ee' }}>{eleccionModal?.nombre}</Text>\r\n                            </Text>\r\n                            {eleccionModal && (\r\n                                <>\r\n                                    {(() => {\r\n                                        const totalVotos = eleccionModal.resultados.reduce((sum: number, r: any) => sum + r.count, 0);\r\n                                        return eleccionModal.resultados.map((res: any, i: number) => {\r\n                                            const porcentajeLocal = totalVotos > 0 ? ((res.count / totalVotos) * 100).toFixed(2) : 0;\r\n                                            const porcentajeGlobal = totalVotosGlobal > 0 ? ((res.count / totalVotosGlobal) * 100).toFixed(2) : 0;\r\n                                            return (\r\n                                                <View key={res.candidaturaid} style={styles.modalResult}>\r\n                                                    <Text style={styles.modalUsername}>\r\n                                                        {res.candidaturas?.users?.username || 'Candidato desconocido'}\r\n                                                    </Text>\r\n                                                    <Text style={styles.modalPropuesta}>“{res.candidaturas?.propuesta}”</Text>\r\n                                                    <View style={styles.progressBarContainer}>\r\n                                                        <View style={[\r\n                                                            styles.progressBar,\r\n                                                            { width: `${Number(porcentajeLocal)}%`, backgroundColor: barColors[i % barColors.length] }\r\n                                                        ]} />\r\n                                                    </View>\r\n                                                    <Text style={styles.modalVotos}>\r\n                                                        {res.count} votos ({porcentajeLocal}% elección / {porcentajeGlobal}% total)\r\n                                                    </Text>\r\n                                                </View>\r\n                                            );\r\n                                        });\r\n                                    })()}\r\n                                    <Text style={styles.totalVotos}>\r\n                                        Total de votos: {eleccionModal.resultados.reduce((sum: number, r: any) => sum + r.count, 0)}\r\n                                    </Text>\r\n                                </>\r\n                            )}\r\n                            <TouchableOpacity style={styles.btnCerrar} onPress={() => setModalVisible(false)}>\r\n                                <Text style={styles.btnCerrarText}>Cerrar</Text>\r\n                            </TouchableOpacity>\r\n                        </View>\r\n                    </View>\r\n                </Modal>\r\n            </View>\r\n        </ImageBackground>\r\n    );\r\n}\r\n\r\nconst barColors = [\r\n    '#4361ee', '#3a86ff', '#ffbe0b', '#fb5607', '#ff006e', '#8338ec', '#3a0ca3'\r\n];\r\n\r\nconst styles = StyleSheet.create({\r\n    bg: {\r\n        flex: 1,\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n    overlay: {\r\n        flex: 1,\r\n        backgroundColor: 'rgba(255,255,255,0.93)',\r\n        padding: 18,\r\n    },\r\n    statsContainer: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-around',\r\n        marginBottom: 18,\r\n        marginTop: 8,\r\n        backgroundColor: '#eaf1ff',\r\n        borderRadius: 10,\r\n        padding: 10,\r\n    },\r\n    statsText: {\r\n        fontSize: 15,\r\n        color: '#22223b',\r\n        fontWeight: 'bold',\r\n    },\r\n    statsValue: {\r\n        color: '#4361ee',\r\n        fontWeight: 'bold',\r\n        fontSize: 16,\r\n    },\r\n    center: { flex: 1, justifyContent: 'center', alignItems: 'center' },\r\n    loadingText: { marginTop: 10, fontSize: 16, color: '#555' },\r\n    title: {\r\n        fontSize: 28,\r\n        fontWeight: 'bold',\r\n        marginBottom: 18,\r\n        color: '#4361ee',\r\n        textAlign: 'center',\r\n        letterSpacing: 0.5,\r\n    },\r\n    eleccionCard: {\r\n        marginBottom: 22,\r\n        padding: 20,\r\n        backgroundColor: '#f7faff',\r\n        borderRadius: 16,\r\n        shadowColor: '#4361ee',\r\n        shadowOpacity: 0.10,\r\n        shadowOffset: { width: 0, height: 2 },\r\n        shadowRadius: 8,\r\n        elevation: 2,\r\n        borderLeftWidth: 6,\r\n        borderLeftColor: '#4361ee',\r\n    },\r\n    eleccionNombre: {\r\n        fontSize: 20,\r\n        fontWeight: 'bold',\r\n        marginBottom: 10,\r\n        color: '#4361ee',\r\n        letterSpacing: 0.2,\r\n    },\r\n    barChartContainer: {\r\n        marginBottom: 10,\r\n        marginTop: 8,\r\n    },\r\n    barRow: {\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        marginBottom: 2,\r\n    },\r\n    barLabelContainer: {\r\n        width: 120,\r\n        marginRight: 8,\r\n    },\r\n    barLabel: {\r\n        fontSize: 15,\r\n        color: '#22223b',\r\n        fontWeight: 'bold',\r\n    },\r\n    barWrapper: {\r\n        flex: 1,\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n    },\r\n    barInfoRow: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        width: '100%',\r\n        marginTop: 2,\r\n        marginBottom: 8,\r\n    },\r\n    bar: {\r\n        height: 22,\r\n        borderRadius: 8,\r\n        marginRight: 8,\r\n    },\r\n    barValue: {\r\n        fontSize: 15,\r\n        color: '#22223b',\r\n        fontWeight: 'bold',\r\n    },\r\n    barPercent: {\r\n        fontSize: 12,\r\n        color: '#4361ee',\r\n        fontWeight: 'bold',\r\n    },\r\n    totalVotosSmall: {\r\n        marginTop: 8,\r\n        fontWeight: 'bold',\r\n        fontSize: 15,\r\n        color: '#3a0ca3',\r\n        textAlign: 'right',\r\n    },\r\n    emptyText: { fontSize: 16, color: '#999', textAlign: 'center', marginTop: 20 },\r\n\r\n    modalOverlay: {\r\n        flex: 1,\r\n        backgroundColor: 'rgba(0,0,0,0.25)',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    modalContent: {\r\n        backgroundColor: '#fff',\r\n        padding: 28,\r\n        borderRadius: 18,\r\n        width: '90%',\r\n        alignItems: 'center',\r\n        shadowColor: '#4361ee',\r\n        shadowOpacity: 0.13,\r\n        shadowOffset: { width: 0, height: 4 },\r\n        shadowRadius: 12,\r\n        elevation: 8,\r\n    },\r\n    modalTitle: {\r\n        fontWeight: 'bold',\r\n        fontSize: 22,\r\n        marginBottom: 16,\r\n        color: '#3a0ca3',\r\n        textAlign: 'center',\r\n    },\r\n    modalResult: {\r\n        marginBottom: 16,\r\n        alignItems: 'center',\r\n        width: '100%',\r\n    },\r\n    modalUsername: { fontWeight: 'bold', fontSize: 16, color: '#22223b' },\r\n    modalPropuesta: { fontSize: 14, fontStyle: 'italic', color: '#444', textAlign: 'center', marginBottom: 4 },\r\n    modalVotos: { fontSize: 15, color: '#4361ee', marginTop: 4, fontWeight: 'bold' },\r\n    totalVotos: { marginTop: 18, fontWeight: 'bold', fontSize: 16, color: '#3a0ca3' },\r\n    btnCerrar: {\r\n        marginTop: 18,\r\n        backgroundColor: '#4361ee',\r\n        paddingVertical: 12,\r\n        paddingHorizontal: 36,\r\n        borderRadius: 10,\r\n        alignItems: 'center',\r\n        minWidth: 120,\r\n    },\r\n    btnCerrarText: {\r\n        color: '#fff',\r\n        fontWeight: 'bold',\r\n        fontSize: 16,\r\n        letterSpacing: 0.5,\r\n    },\r\n    progressBarContainer: {\r\n        width: '100%',\r\n        height: 14,\r\n        backgroundColor: '#eaf1ff',\r\n        borderRadius: 6,\r\n        marginTop: 6,\r\n        marginBottom: 2,\r\n        overflow: 'hidden',\r\n    },\r\n    progressBar: {\r\n        height: '100%',\r\n        borderRadius: 6,\r\n    },\r\n});","import React, { useEffect, useState } from 'react';\r\nimport {\r\n    View,\r\n    Text,\r\n    FlatList,\r\n    ActivityIndicator,\r\n    StyleSheet,\r\n    TouchableOpacity,\r\n    Modal,\r\n    Pressable,\r\n    ScrollView,\r\n    ImageBackground,\r\n} from 'react-native';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport { supabase } from '../lib/supabase';\r\n\r\nexport default function ListaCandidaturasScreen() {\r\n    const [elecciones, setElecciones] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [eleccionSeleccionada, setEleccionSeleccionada] = useState<any>(null);\r\n    const [candidaturas, setCandidaturas] = useState<any[]>([]);\r\n\r\n    useEffect(() => {\r\n        cargarElecciones();\r\n    }, []);\r\n\r\n    const cargarElecciones = async () => {\r\n        setLoading(true);\r\n        const { data, error } = await supabase\r\n            .from('eleccions')\r\n            .select('*')\r\n            .order('fecha_inicio', { ascending: false });\r\n        if (!error) setElecciones(data || []);\r\n        setLoading(false);\r\n    };\r\n\r\n    const cargarCandidaturas = async (eleccionId: number) => {\r\n        const { data, error } = await supabase\r\n            .from('candidaturas')\r\n            .select('id, propuesta, users(username)')\r\n            .eq('eleccionid', eleccionId);\r\n        if (!error) setCandidaturas(data || []);\r\n        else setCandidaturas([]);\r\n    };\r\n\r\n    const handleSeleccion = async (eleccion: any) => {\r\n        setEleccionSeleccionada(eleccion);\r\n        await cargarCandidaturas(eleccion.id);\r\n        setModalVisible(true);\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <View style={styles.center}>\r\n                <ActivityIndicator size=\"large\" color=\"#4f8cff\" />\r\n                <Text style={styles.loadingText}>Cargando elecciones...</Text>\r\n            </View>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <ImageBackground\r\n            source={require('../assets/fondo.png')}\r\n            style={styles.bg}\r\n            resizeMode=\"cover\"\r\n        >\r\n            <View style={styles.container}>\r\n                <Text style={styles.title}>Candidaturas por Elección</Text>\r\n                <Text style={styles.subtitle}>Total elecciones: {elecciones.length}</Text>\r\n                <FlatList\r\n                    data={elecciones}\r\n                    keyExtractor={(item) => item.id.toString()}\r\n                    renderItem={({ item }) => (\r\n                        <TouchableOpacity onPress={() => handleSeleccion(item)} style={styles.touchable}>\r\n                            <View style={styles.card}>\r\n                                <View style={styles.cardHeader}>\r\n                                    <Ionicons name=\"school\" size={22} color=\"#4f8cff\" style={{ marginRight: 8 }} />\r\n                                    <Text style={styles.eleccion}>{item.nombre || 'Sin nombre'}</Text>\r\n                                </View>\r\n                                <Text style={styles.descripcion}>\r\n                                    <Ionicons name=\"document-text-outline\" size={16} color=\"#4f8cff\" />{' '}\r\n                                    {item.descripcion || 'Sin descripción'}\r\n                                </Text>\r\n                                <View style={styles.infoRow}>\r\n                                    <Ionicons name=\"people-outline\" size={16} color=\"#4f8cff\" />\r\n                                    <Text style={styles.infoLabel}>Tipo:</Text>\r\n                                    <Text style={styles.infoValue}>{item.tipo_representacion}</Text>\r\n                                </View>\r\n                                <View style={styles.infoRow}>\r\n                                    <Ionicons name=\"checkmark-circle-outline\" size={16} color={item.estado === 'ACTIVA' ? '#27ae60' : '#888'} />\r\n                                    <Text style={styles.infoLabel}>Estado:</Text>\r\n                                    <Text style={[styles.infoValue, { color: item.estado === 'ACTIVA' ? '#27ae60' : '#888' }]}>{item.estado}</Text>\r\n                                </View>\r\n                            </View>\r\n                        </TouchableOpacity>\r\n                    )}\r\n                    ItemSeparatorComponent={() => <View style={styles.separator} />}\r\n                    ListEmptyComponent={<Text style={styles.emptyText}>No hay elecciones disponibles.</Text>}\r\n                />\r\n\r\n                {/* Modal para ver candidaturas */}\r\n                <Modal\r\n                    visible={modalVisible}\r\n                    transparent\r\n                    animationType=\"slide\"\r\n                    onRequestClose={() => setModalVisible(false)}\r\n                >\r\n                    <View style={styles.modalOverlay}>\r\n                        <View style={styles.modalContent}>\r\n                            <Text style={styles.modalTitle}>\r\n                                <Ionicons name=\"people-circle-outline\" size={22} color=\"#4f8cff\" />{' '}\r\n                                Candidaturas de: <Text style={{ color: '#4f8cff' }}>{eleccionSeleccionada?.nombre}</Text>\r\n                            </Text>\r\n                            <ScrollView style={{ maxHeight: 250, width: '100%', marginTop: 10 }}>\r\n                                {candidaturas.length === 0 && (\r\n                                    <Text style={{ color: '#888', textAlign: 'center' }}>No hay candidaturas registradas.</Text>\r\n                                )}\r\n                                {candidaturas.map((cand: any) => (\r\n                                    <View\r\n                                        key={cand.id}\r\n                                        style={styles.candidaturaItem}\r\n                                    >\r\n                                        <View style={{ flexDirection: 'row', alignItems: 'center', marginBottom: 2 }}>\r\n                                            <Ionicons name=\"person\" size={16} color=\"#4f8cff\" />\r\n                                            <Text style={styles.candidatoNombre}>\r\n                                                {cand.userprofiles?.nombres\r\n                                                    ? `${cand.userprofiles.nombres} ${cand.userprofiles.apellidos}`\r\n                                                    : cand.users?.username\r\n                                                        ? cand.users.username\r\n                                                        : 'Candidato desconocido'}\r\n                                            </Text>\r\n                                        </View>\r\n                                        <View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n                                            <Ionicons name=\"bulb-outline\" size={14} color=\"#4f8cff\" />\r\n                                            <Text style={styles.candidatoPropuesta}>{cand.propuesta}</Text>\r\n                                        </View>\r\n                                    </View>\r\n                                ))}\r\n                            </ScrollView>\r\n                            <View style={{ marginTop: 16 }}>\r\n                                <Pressable onPress={() => setModalVisible(false)} style={styles.btnCerrar}>\r\n                                    <Text style={styles.btnCerrarText}>Cerrar</Text>\r\n                                </Pressable>\r\n                            </View>\r\n                        </View>\r\n                    </View>\r\n                </Modal>\r\n            </View>\r\n        </ImageBackground>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    bg: {\r\n        flex: 1,\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n    container: {\r\n        flex: 1,\r\n        padding: 20,\r\n        backgroundColor: 'rgba(255,255,255,0.96)',\r\n        borderTopLeftRadius: 28,\r\n        borderTopRightRadius: 28,\r\n        marginTop: 10,\r\n        shadowColor: '#4f8cff',\r\n        shadowOpacity: 0.08,\r\n        shadowOffset: { width: 0, height: 4 },\r\n        shadowRadius: 12,\r\n        elevation: 4,\r\n    },\r\n    center: {\r\n        flex: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        backgroundColor: 'rgba(255,255,255,0.96)',\r\n    },\r\n    loadingText: {\r\n        marginTop: 10,\r\n        fontSize: 16,\r\n        color: '#555',\r\n    },\r\n    title: {\r\n        fontSize: 28,\r\n        fontWeight: 'bold',\r\n        marginBottom: 8,\r\n        color: '#4f8cff',\r\n        textAlign: 'center',\r\n        letterSpacing: 0.5,\r\n    },\r\n    subtitle: {\r\n        fontSize: 16,\r\n        color: '#666',\r\n        marginBottom: 18,\r\n        textAlign: 'center',\r\n    },\r\n    touchable: {\r\n        borderRadius: 16,\r\n        overflow: 'hidden',\r\n    },\r\n    card: {\r\n        backgroundColor: '#f7faff',\r\n        padding: 20,\r\n        borderRadius: 16,\r\n        shadowColor: '#4f8cff',\r\n        shadowOpacity: 0.10,\r\n        shadowOffset: { width: 0, height: 2 },\r\n        shadowRadius: 8,\r\n        elevation: 2,\r\n        borderLeftWidth: 6,\r\n        borderLeftColor: '#4f8cff',\r\n        marginBottom: 2,\r\n    },\r\n    cardHeader: {\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        marginBottom: 8,\r\n    },\r\n    eleccion: {\r\n        fontSize: 20,\r\n        fontWeight: 'bold',\r\n        color: '#4f8cff',\r\n    },\r\n    descripcion: {\r\n        fontSize: 15,\r\n        color: '#333',\r\n        marginTop: 2,\r\n        marginBottom: 2,\r\n    },\r\n    infoRow: {\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        marginTop: 2,\r\n        marginBottom: 2,\r\n    },\r\n    infoLabel: {\r\n        fontSize: 14,\r\n        color: '#555',\r\n        marginLeft: 6,\r\n        fontWeight: '600',\r\n    },\r\n    infoValue: {\r\n        fontSize: 14,\r\n        color: '#222',\r\n        marginLeft: 4,\r\n        fontWeight: 'bold',\r\n    },\r\n    estado: {\r\n        fontSize: 15,\r\n        marginTop: 4,\r\n        color: '#198754',\r\n    },\r\n    separator: {\r\n        height: 16,\r\n    },\r\n    emptyText: {\r\n        fontSize: 16,\r\n        color: '#888',\r\n        textAlign: 'center',\r\n        marginTop: 20,\r\n    },\r\n    modalOverlay: {\r\n        flex: 1,\r\n        backgroundColor: 'rgba(0,0,0,0.25)',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    modalContent: {\r\n        backgroundColor: '#fff',\r\n        padding: 28,\r\n        borderRadius: 18,\r\n        width: '92%',\r\n        alignItems: 'center',\r\n        shadowColor: '#4f8cff',\r\n        shadowOpacity: 0.13,\r\n        shadowOffset: { width: 0, height: 4 },\r\n        shadowRadius: 12,\r\n        elevation: 8,\r\n    },\r\n    modalTitle: {\r\n        fontWeight: 'bold',\r\n        fontSize: 22,\r\n        marginBottom: 12,\r\n        color: '#4f8cff',\r\n        textAlign: 'center',\r\n    },\r\n    candidaturaItem: {\r\n        padding: 14,\r\n        borderRadius: 12,\r\n        backgroundColor: '#eaf1ff',\r\n        marginBottom: 12,\r\n        alignItems: 'flex-start',\r\n        borderLeftWidth: 4,\r\n        borderLeftColor: '#4f8cff',\r\n        width: '100%',\r\n    },\r\n    candidatoNombre: {\r\n        color: '#263159',\r\n        fontWeight: 'bold',\r\n        fontSize: 15,\r\n        marginLeft: 6,\r\n    },\r\n    candidatoPropuesta: {\r\n        color: '#222',\r\n        fontSize: 14,\r\n        marginLeft: 6,\r\n        marginTop: 2,\r\n    },\r\n    btnCerrar: {\r\n        padding: 14,\r\n        backgroundColor: '#4f8cff',\r\n        borderRadius: 10,\r\n        alignItems: 'center',\r\n        minWidth: 120,\r\n        marginTop: 8,\r\n    },\r\n    btnCerrarText: {\r\n        color: '#fff',\r\n        fontWeight: 'bold',\r\n        fontSize: 16,\r\n        letterSpacing: 0.5,\r\n    },\r\n});","import { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport HomeScreen from '../screens/HomeScreen';\r\nimport ProductScreen from '../screens/ProductScreen';\r\nimport ProfileScreen from '../screens/ProfileScreen';\r\nimport InventoryScreen from '../screens/InventoryScreen';\r\nimport UserManagementScreen from '../screens/UserManagementScreen';\r\nimport { useEffect, useState } from 'react';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Platform, TouchableOpacity, Text } from 'react-native';\r\nimport PanelCandidatoScreen from '../screens/PanelCandidatoScreen';\r\nimport PanelVotanteScreen from '../screens/PanelVotanteScreen';\r\nimport PanelAdministrativoScreen from '../screens/PanelAdministrativoScreen';\r\nimport PanelAdminScreen from '../screens/PanelAdminScreen';\r\nimport CrearEleccionScreen from '../screens/CrearEleccionScreen';\r\nimport EditarEleccionesScreen from '../screens/EditarEleccionScreen';\r\nimport AgregarCandidatoScreen from '../screens/AgregarCandidatoScreen';\r\nimport AgregarVotacionScreen from '../screens/AgregarVotacionScreen';\r\nimport ResultadosVotacionesScreen from '../screens/ResultadosVotacionesScreen';\r\nimport ListaCandidaturaScreen from '../screens/ListaCandidaturasScreen';\r\n\r\nconst Tab = createBottomTabNavigator();\r\n\r\nexport default function Navigation({ onLogout }: { onLogout: () => void }) {\r\n  const [rol, setRol] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const obtenerRol = async () => {\r\n      let usuarioJSON;\r\n\r\n      if (Platform.OS === 'web') {\r\n        usuarioJSON = localStorage.getItem('usuario');\r\n      } else {\r\n        usuarioJSON = await AsyncStorage.getItem('usuario');\r\n      }\r\n\r\n      if (usuarioJSON) {\r\n        const usuario = JSON.parse(usuarioJSON);\r\n        setRol(usuario.role);\r\n      }\r\n    };\r\n\r\n    obtenerRol();\r\n  }, []);\r\n\r\n  const headerRight = () => (\r\n    <TouchableOpacity\r\n      onPress={async () => {\r\n        const confirmar = Platform.OS === 'web'\r\n          ? window.confirm('¿Deseas salir de la aplicación?')\r\n          : true;\r\n\r\n        if (!confirmar) return;\r\n\r\n        if (Platform.OS === 'web') {\r\n          localStorage.removeItem('usuario');\r\n          sessionStorage.setItem('logoutMessage', '🚪 Has cerrado sesión exitosamente');\r\n          window.location.reload();\r\n        } else {\r\n          await AsyncStorage.removeItem('usuario');\r\n          onLogout();\r\n        }\r\n      }}\r\n      style={{\r\n        marginRight: 18,\r\n        backgroundColor: '#e74c3c',\r\n        paddingVertical: 6,\r\n        paddingHorizontal: 14,\r\n        borderRadius: 22,\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        shadowColor: '#e74c3c',\r\n        shadowOpacity: 0.18,\r\n        shadowRadius: 6,\r\n        elevation: 4,\r\n      }}\r\n    >\r\n      <Ionicons name=\"log-out-outline\" size={18} color=\"#fff\" style={{ marginRight: 6 }} />\r\n      <Text style={{ color: '#fff', fontWeight: 'bold', fontSize: 15 }}>Salir</Text>\r\n    </TouchableOpacity>\r\n  );\r\n\r\n  return (\r\n    <NavigationContainer>\r\n      <Tab.Navigator\r\n        screenOptions={({ route }) => ({\r\n          tabBarIcon: ({ color, size }) => {\r\n            let iconName: keyof typeof Ionicons.glyphMap = 'help';\r\n            if (route.name === 'Panel') iconName = 'home';\r\n            else if (route.name === 'Productos') iconName = 'pricetags';\r\n            else if (route.name === 'Perfil') iconName = 'person';\r\n            else if (route.name === 'Inventario') iconName = 'cube';\r\n            else if (route.name === 'Usuarios') iconName = 'people';\r\n            else if (route.name === 'Crear Eleccion') iconName = 'checkbox-outline';\r\n            else if (route.name === 'Lista Elecciones') iconName = 'create-outline';\r\n            else if (route.name === 'Asignar Candidato') iconName = 'add-circle-outline';\r\n            else if (route.name === 'Realizar Votacion') iconName = 'checkmark-circle-outline';\r\n            else if (route.name === 'Lista de candidaturas') iconName = 'list-outline';\r\n            else if (route.name === 'Resulados') iconName = 'bar-chart-outline';\r\n            return <Ionicons name={iconName} size={size} color={color} />;\r\n          },\r\n          headerRight,\r\n        })}\r\n      >\r\n        {/* <Tab.Screen name=\"Inicio\" component={HomeScreen} />\r\n        <Tab.Screen name=\"Productos\" component={ProductScreen} /> */}\r\n\r\n        {/* <Tab.Screen name=\"Inventario\" component={InventoryScreen} /> */}\r\n        {rol === 'ADMIN' && (\r\n          <>\r\n            <Tab.Screen name=\"Panel\" component={PanelAdminScreen} />\r\n            <Tab.Screen name=\"Usuarios\" component={UserManagementScreen} />\r\n            <Tab.Screen name=\"Crear Eleccion\" component={CrearEleccionScreen} />\r\n            <Tab.Screen name=\"Lista Elecciones\" component={EditarEleccionesScreen} />\r\n            <Tab.Screen name=\"Asignar Candidato\" component={AgregarCandidatoScreen} />\r\n            <Tab.Screen name=\"Lista de candidaturas\" component={ListaCandidaturaScreen} />\r\n          </>\r\n        )}\r\n        {rol === 'CANDIDATO' && (\r\n          <>\r\n            <Tab.Screen name=\"Panel\" component={PanelCandidatoScreen} />\r\n            <Tab.Screen name=\"Lista de candidaturas\" component={ListaCandidaturaScreen} />\r\n          </>\r\n        )}\r\n        {rol === 'VOTANTE' && (\r\n          <>\r\n            <Tab.Screen name=\"Panel\" component={PanelVotanteScreen} />\r\n            <Tab.Screen name=\"Realizar Votacion\" component={AgregarVotacionScreen} />\r\n            \r\n          </>\r\n        )}\r\n        {rol === 'ADMINISTRATIVO' && (\r\n          <>\r\n            <Tab.Screen name=\"Panel\" component={PanelAdministrativoScreen} />\r\n            <Tab.Screen name=\"Lista de candidaturas\" component={ListaCandidaturaScreen} />\r\n          </>\r\n        )}\r\n        <Tab.Screen name=\"Resulados\" component={ResultadosVotacionesScreen} />\r\n        <Tab.Screen name=\"Perfil\" component={ProfileScreen} />\r\n      </Tab.Navigator>\r\n    </NavigationContainer>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { View, Text, TextInput, TouchableOpacity, StyleSheet, Alert, KeyboardAvoidingView, Platform } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { supabase } from '../lib/supabase';\r\nimport bcrypt from 'bcryptjs';\r\n\r\nexport default function LoginScreen({ navigation }: any) {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleLogin = async () => {\r\n    if (!username || !password) {\r\n      Alert.alert('⚠️ Campos requeridos', 'Por favor ingresa usuario y contraseña.');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n\r\n    const { data: user, error } = await supabase\r\n      .from('users')\r\n      .select('*')\r\n      .eq('username', username)\r\n      .single();\r\n\r\n    if (error || !user) {\r\n      setLoading(false);\r\n      Alert.alert('❌ Usuario no encontrado', 'Verifica tus datos.');\r\n      return;\r\n    }\r\n\r\n    const esValido = await bcrypt.compare(password, user.password_hash);\r\n    setLoading(false);\r\n    if (!esValido) {\r\n      Alert.alert('❌ Contraseña incorrecta');\r\n      return;\r\n    }\r\n\r\n    await AsyncStorage.setItem('usuario', JSON.stringify(user));\r\n    Alert.alert('Bienvenido');\r\n    navigation.replace();\r\n  };\r\n\r\n  return (\r\n    <View style={styles.bg}>\r\n      <KeyboardAvoidingView\r\n        style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}\r\n        behavior={Platform.OS === 'ios' ? 'padding' : undefined}\r\n      >\r\n        <View style={styles.loginContainer}>\r\n          <Text style={styles.title}>🔐 Iniciar Sesión</Text>\r\n          <TextInput\r\n            placeholder=\"Usuario\"\r\n            style={styles.input}\r\n            value={username}\r\n            onChangeText={setUsername}\r\n            autoCapitalize=\"none\"\r\n            placeholderTextColor=\"#888\"\r\n          />\r\n          <TextInput\r\n            placeholder=\"Contraseña\"\r\n            style={styles.input}\r\n            value={password}\r\n            onChangeText={setPassword}\r\n            secureTextEntry\r\n            placeholderTextColor=\"#888\"\r\n          />\r\n          <TouchableOpacity\r\n            style={[styles.button, loading && { opacity: 0.7 }]}\r\n            onPress={handleLogin}\r\n            disabled={loading}\r\n          >\r\n            <Text style={styles.buttonText}>{loading ? 'Ingresando...' : 'Ingresar'}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </KeyboardAvoidingView>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  bg: {\r\n    flex: 1,\r\n    backgroundColor: '#f0f2f5',\r\n  },\r\n  loginContainer: {\r\n    width: '100%',\r\n    maxWidth: 400,\r\n    marginTop: '6%',\r\n    padding: 32,\r\n    backgroundColor: '#fff',\r\n    borderRadius: 16,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 4 },\r\n    shadowOpacity: 0.10,\r\n    shadowRadius: 15,\r\n    elevation: 8,\r\n    alignItems: 'center',\r\n  },\r\n  title: {\r\n    fontSize: 26,\r\n    fontWeight: 'bold',\r\n    color: '#22223b',\r\n    marginBottom: 28,\r\n    textAlign: 'center',\r\n    letterSpacing: 1,\r\n  },\r\n  input: {\r\n    width: '100%',\r\n    borderWidth: 0,\r\n    borderRadius: 8,\r\n    padding: 14,\r\n    marginBottom: 18,\r\n    backgroundColor: '#f7f7fa',\r\n    fontSize: 16,\r\n    color: '#22223b',\r\n    shadowColor: '#000',\r\n    shadowOpacity: 0.04,\r\n    shadowRadius: 1,\r\n    elevation: 1,\r\n  },\r\n  button: {\r\n    width: '100%',\r\n    backgroundColor: '#22223b',\r\n    paddingVertical: 14,\r\n    borderRadius: 8,\r\n    alignItems: 'center',\r\n    marginTop: 8,\r\n  },\r\n  buttonText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n    fontSize: 17,\r\n    letterSpacing: 1,\r\n  },\r\n});","import { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, Platform } from 'react-native';\nimport { InventarioProvider } from './screens/InventarioContext';\nimport AppNavigation from './app/navigation';\nimport LoginScreen from './screens/LoginScreen';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nexport default function App() {\n  const [logueado, setLogueado] = useState(false);\n  const [mensajeLogout, setMensajeLogout] = useState('');\n\n  useEffect(() => {\n    const verificarSesion = async () => {\n      if (Platform.OS === 'web') {\n        const usuario = localStorage.getItem('usuario');\n        if (usuario) setLogueado(true);\n      } else {\n        const usuario = await AsyncStorage.getItem('usuario');\n        if (usuario) setLogueado(true);\n      }\n    };\n    verificarSesion();\n  }, []);\n\n  const cerrarSesion = () => {\n    setLogueado(false);\n    setMensajeLogout('🚪 Has cerrado sesión exitosamente');\n    setTimeout(() => setMensajeLogout(''), 3000);\n  };\n\n  return (\n    <InventarioProvider>\n      <View style={{ flex: 1 }}>\n        {mensajeLogout !== '' && (\n          <View style={styles.flash}>\n            <Text style={styles.flashText}>{mensajeLogout}</Text>\n          </View>\n        )}\n\n        {logueado ? (\n          <AppNavigation onLogout={cerrarSesion} />\n        ) : (\n          <LoginScreen navigation={{ replace: () => setLogueado(true) }} />\n        )}\n      </View>\n    </InventarioProvider>\n  );\n}\n\nconst styles = StyleSheet.create({\n  flash: {\n    backgroundColor: '#d4edda',\n    padding: 10,\n    borderRadius: 6,\n    margin: 10,\n    borderColor: '#c3e6cb',\n    borderWidth: 1,\n  },\n  flashText: {\n    color: '#155724',\n    textAlign: 'center',\n    fontWeight: 'bold',\n  },\n});\n","import { registerRootComponent } from 'expo';\n\nimport App from './App';\n\n// registerRootComponent calls AppRegistry.registerComponent('main', () => App);\n// It also ensures that whether you load the app in Expo Go or in a native build,\n// the environment is set up appropriately\nregisterRootComponent(App);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"935c1a94\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"web:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [185], () => (__webpack_require__(6782)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["supabase","createClient","InventarioContext","createContext","productos","agregarProducto","async","editarProducto","cargarProductos","eliminarProducto","InventarioProvider","children","setProductos","useState","data","error","from","select","order","ascending","console","useEffect","subscription","on","payload","log","subscribe","removeSubscription","_jsx","Provider","value","insert","producto","update","nombre","precio","condicion","eq","id","delete","ProfileScreen","nombres","setNombres","apellidos","setApellidos","edad","setEdad","genero","setGenero","mensajeExito","setMensajeExito","userId","setUserId","AsyncStorage","getItem","then","json","usuario","JSON","parse","ImageBackground","source","require","style","styles","bg","resizeMode","ScrollView","contentContainerStyle","flexGrow","_jsxs","View","profileCard","profileHeader","Text","headerIcon","headerTitle","cardBody","flash","flashText","formLabel","TextInput","placeholder","input","onChangeText","keyboardType","pickerContainer","Picker","selectedValue","onValueChange","picker","Item","label","buttonRow","TouchableOpacity","btnPrimary","onPress","existentes","errorSelect","length","idPerfil","parseInt","user_id","setTimeout","Alert","alert","btnText","btnSecondary","btnEdit","perfil","find","p","toString","StyleSheet","create","flex","width","height","position","maxWidth","alignSelf","marginTop","backgroundColor","borderRadius","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","borderWidth","borderColor","overflow","paddingVertical","paddingHorizontal","borderTopLeftRadius","borderTopRightRadius","flexDirection","alignItems","gap","borderBottomWidth","borderBottomColor","color","fontWeight","fontSize","letterSpacing","textShadowColor","textShadowOffset","textShadowRadius","marginRight","marginBottom","padding","textAlign","justifyContent","UserManagementScreen","identificacion","setIdentificacion","username","setUsername","password","setPassword","role","setRole","adminValid","setAdminValid","usuarios","setUsuarios","editId","setEditId","parsed","verificarRol","cargarUsuarios","limpiarFormulario","KeyboardAvoidingView","behavior","undefined","scrollContainer","placeholderTextColor","secureTextEntry","pickerWrapper","itemValue","dropdownIconColor","btnRow","updateObj","password_hash","bcrypt","message","e","hashed","sectionTitle","noUsersText","map","item","userRow","userText","userActions","editBtn","handleEditUser","actionText","deleteBtn","window","confirm","handleDeleteUser","block","marginLeft","borderLeftWidth","borderLeftColor","paddingLeft","userSelect","fontStyle","flexShrink","flexWrap","PanelCandidatoScreen","navigation","useNavigation","dashboardContainer","logoContainer","Ionicons","name","size","profileSection","welcomeText","roleBadge","roleBadgeText","actionsContainer","icon","screen","action","actionCard","cursor","activeOpacity","navigate","iconCircle","actionLabel","paddingBottom","minWidth","PanelVotanteScreen","auth","user","PanelAdministrativoScreen","PanelAdminScreen","idx","CrearEleccionScreen","setNombre","descripcion","setDescripcion","tipoRepresentacion","setTipoRepresentacion","fechaInicio","setFechaInicio","fechaFin","setFechaFin","estado","setEstado","showInicio","setShowInicio","showFin","setShowFin","successMsg","setSuccessMsg","errorMsg","setErrorMsg","fadeAnim","Animated","Value","errorAnim","container","card","title","opacity","errorText","successText","multiline","type","Object","assign","toISOString","slice","onChange","target","Date","timing","toValue","duration","useNativeDriver","start","tipo_representacion","fecha_inicio","fecha_fin","msg","mostrarMensaje","EditarEleccionesScreen","elecciones","setElecciones","loading","setLoading","editandoId","setEditandoId","form","setForm","cargarElecciones","eliminarEleccion","String","handleGuardar","fechaInicioStr","getFullYear","getMonth","padStart","getDate","getHours","getMinutes","fechaFinStr","centered","ActivityIndicator","FlatList","keyExtractor","renderItem","cardEdit","v","actions","btnDelete","headerRow","infoRow","info","toLocaleString","handleEditar","eleccion","handleEliminar","numColumns","ListEmptyComponent","emptyText","flatListContent","marginHorizontal","AgregarCandidatoScreen","candidaturas","setCandidaturas","selectedUser","setSelectedUser","selectedEleccion","setSelectedEleccion","propuesta","setPropuesta","submitting","setSubmitting","cargarDatos","users","eleccions","candidaturasData","formCard","enabled","btnAgregar","trim","Number","eleccionId","isNaN","existente","maybeSingle","dataToInsert","userid","eleccionid","disabled","MaterialIcons","btnAgregarText","u","candidaturaCard","actionBtn","iniciarEdicion","minHeight","textAlignVertical","AgregarVotacionScreen","modalVisible","setModalVisible","eleccionSeleccionada","setEleccionSeleccionada","candidaturaSeleccionada","setCandidaturaSeleccionada","votando","setVotando","yaVotoEnAlguna","setYaVotoEnAlguna","verificarSiYaVotoEnAlguna","handleSeleccion","cargarCandidaturas","center","loadingText","subtitle","touchable","infoValue","ItemSeparatorComponent","separator","Modal","visible","transparent","animationType","onRequestClose","modalOverlay","modalContent","modalTitle","_Fragment","marginVertical","modalBtnRow","btnCancel","goBack","btnCancelText","modalSubtitle","maxHeight","cand","Pressable","candidaturaItem","candidaturaItemSelected","btnVotar","candidaturaid","btnVotarText","ResultadosVotacionesScreen","resultados","setResultados","eleccionModal","setEleccionModal","cargarResultados","conteo","reduce","acc","curr","key","count","values","agrupados","push","totalVotosGlobal","sum","r","totalElecciones","keys","totalCandidaturas","overlay","statsContainer","statsText","statsValue","showsVerticalScrollIndicator","totalVotos","eleccionCard","abrirModal","eleccionNombre","barChartContainer","res","i","porcentajeLocal","porcentajeGlobal","barRow","barLabelContainer","barLabel","barWrapper","bar","barColors","barInfoRow","barValue","barPercent","toFixed","totalVotosSmall","modalResult","modalUsername","modalPropuesta","progressBarContainer","progressBar","modalVotos","btnCerrar","btnCerrarText","ListaCandidaturasScreen","cardHeader","infoLabel","candidatoNombre","userprofiles","candidatoPropuesta","Tab","createBottomTabNavigator","Navigation","onLogout","rol","setRol","usuarioJSON","localStorage","obtenerRol","headerRight","removeItem","sessionStorage","setItem","location","reload","NavigationContainer","Navigator","screenOptions","route","tabBarIcon","iconName","Screen","component","ListaCandidaturaScreen","LoginScreen","loginContainer","autoCapitalize","button","single","esValido","stringify","replace","buttonText","margin","registerRootComponent","logueado","setLogueado","mensajeLogout","setMensajeLogout","verificarSesion","AppNavigation","cerrarSesion","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","n","getter","__esModule","d","a","leafPrototypes","getProto","getPrototypeOf","obj","t","mode","this","ns","def","current","indexOf","getOwnPropertyNames","forEach","definition","o","defineProperty","enumerable","get","f","chunkId","Promise","all","promises","miniCssF","g","globalThis","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","url","done","script","needAttach","scripts","document","getElementsByTagName","s","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","bind","head","appendChild","Symbol","toStringTag","installedChunks","installedChunkData","promise","resolve","reject","Error","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}